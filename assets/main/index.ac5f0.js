System.register("chunks:///_virtual/AssetsLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateManager.ts","./GameController.ts","./RocketController.ts","./DogController.ts","./AudioController.ts","./ObstaclesController.ts","./LazyInstance.ts","./ItemController.ts","./OutfitController.ts","./EventEmitter.ts"],(function(e){var t,o,n,r,l,i,a,s,u,c,d,C,f,m,g,p,b,h,y,_,N,w,k,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Node,d=e.resources,C=e.Component},function(e){f=e.stateObserver,m=e.GameState,g=e.MessageActionType},function(e){p=e.GameController},function(e){b=e.RocketController},function(e){h=e.DogController},function(e){y=e.AudioController},function(e){_=e.ObstaclesController},function(e){N=e.LazyInstance},function(e){w=e.ItemController},function(e){k=e.OutfitController},function(e){A=e.default}],execute:function(){var L,v,O,G,z,E,I,D,R,x,S,M,T,F,P,j,U,q,B;s._RF.push({},"220fd/d29hGs6RXYe7JQj3o","AssetsLoader",void 0);var H=u.ccclass,J=u.property,Q=u.executionOrder;e("AssetsLoader",(L=H("AssetsLoader"),v=Q(Number.MIN_SAFE_INTEGER),O=J(c),G=J(c),z=J(c),E=J(c),I=J(c),D=J(c),R=J(c),L(x=v(((B=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,n(t,"gameControllerNode",M,r(t)),n(t,"obstacleControllerNode",T,r(t)),n(t,"rocketControllerNode",F,r(t)),n(t,"dogControllerNode",P,r(t)),n(t,"audioControllerNode",j,r(t)),n(t,"dogOutfitNode",U,r(t)),n(t,"itemControllerNode",q,r(t)),t._rocketController=new N((function(){return t.rocketControllerNode.getComponent(b)})),t._dogController=new N((function(){return t.dogControllerNode.getComponent(h)})),t._obstaclesController=new N((function(){return t.obstacleControllerNode.getComponent(_)})),t._audioController=new N((function(){return t.audioControllerNode.getComponent(y)})),t._gameController=new N((function(){return t.gameControllerNode.getComponent(p)})),t._dogOutfitController=new N((function(){return t.dogOutfitNode.getComponent(k)})),t._itemController=new N((function(){return t.itemControllerNode.getComponent(w)})),t}o(t,e);var s=t.prototype;return s.onLoad=function(){if(this.preloadAssets(),t._instance&&t._instance!==this)throw this.destroy(),new Error("AssetsLoader instance is already set");t._instance=this,f.subscribe({id:"AssetsLoader",callback:this.onGameStateChange.bind(this),priority:0})},s.onGameStateChange=function(e){switch(e){case m.LoadRun:var t=f.getGameData();this.onGameLoad(t)}},s.preloadAssets=function(){d.preloadDir("Audios/"),d.preloadDir("Environment/Urban/")},s.onGameLoad=function(){var e=i(a().mark((function e(t){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("[Cocos] Assets Loaded"),p.Loaded=!0,e.next=4,Promise.all([this.gameController.loadEnvironment(t.maps),this.audioController.loadAudioSources(),this.rocketController.loadRocketAnimation(t.maps)]);case 4:return e.next=6,this.itemController.loadGameItems(t.activeGameItems);case 6:return e.next=8,this.obstaclesController.loadObstacleFlyAnimation(t.maps);case 8:return e.next=10,Promise.all([this.dogController.loadDogAnimations(t.dogType),this.dogOutfitController.loadOutfit(t.equipments)]);case 10:o={action:g.LoadCompleted},A.sendMessage(o),this.gameController.hideWaitUI(),console.timeEnd("[Cocos] Assets Loaded");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l(t,[{key:"rocketController",get:function(){return this._rocketController.instance}},{key:"dogController",get:function(){return this._dogController.instance}},{key:"obstaclesController",get:function(){return this._obstaclesController.instance}},{key:"audioController",get:function(){return this._audioController.instance}},{key:"gameController",get:function(){return this._gameController.instance}},{key:"dogOutfitController",get:function(){return this._dogOutfitController.instance}},{key:"itemController",get:function(){return this._itemController.instance}}],[{key:"instance",get:function(){if(null===t._instance)throw new Error("AssetsLoader instance is not set");return t._instance}}]),t}(C))._instance=null,M=t((S=B).prototype,"gameControllerNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(S.prototype,"obstacleControllerNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"rocketControllerNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(S.prototype,"dogControllerNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(S.prototype,"audioControllerNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(S.prototype,"dogOutfitNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(S.prototype,"itemControllerNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=S))||x)||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LazyInstance.ts"],(function(o){var e,i,u,c,n,t,r,a,s,p,d,l;return{setters:[function(o){e=o.inheritsLoose,i=o.createClass,u=o.asyncToGenerator,c=o.regeneratorRuntime},function(o){n=o.cclegacy,t=o._decorator,r=o.macro,a=o.AudioSource,s=o.Component,p=o.resources,d=o.AudioClip},function(o){l=o.LazyInstance}],execute:function(){var S;n._RF.push({},"8fa9aMtrqpEWIzJd0sbxv8X","AudioController",void 0);var f=t.ccclass,h=["sfx_die","sfx_level_up","sfx_pick_up_coin","sfx_pick_up_gift","sfx_tap","sfx_theme","sfx_halloween_theme","sfx_witch"];o("AudioController",f("AudioController")(S=function(o){function n(){for(var e,i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];return(e=o.call.apply(o,[this].concat(u))||this).audioSourceInit=function(){return e.node.addComponent(a)},e._audioSourceDie=new l(e.audioSourceInit),e._audioSourceLevelUp=new l(e.audioSourceInit),e._audioSourcePickUpCoin=new l(e.audioSourceInit),e._audioSourcePickUpGift=new l(e.audioSourceInit),e._audioSourceTap=new l(e.audioSourceInit),e._audioSourceBGM=new l(e.audioSourceInit),e}e(n,o);var t=n.prototype;return t.loadAudioSources=function(){var o=u(c().mark((function o(){var e,i,u,n=this;return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=new Array(h.length),i=0,u=h.map((function(o){return new Promise((function(u,c){p.load("Audios/"+o,d,(function(o,n){o&&c(o),e[i++]=n,u()}))}))})),o.next=5,Promise.all(u).then((function(){for(var o=0,i=e;o<i.length;o++){var u=i[o];switch(u.name){case"sfx_die":n.audioSourceDie.clip=u;break;case"sfx_level_up":n.audioSourceLevelUp.clip=u;break;case"sfx_pick_up_coin":n.audioSourcePickUpCoin.clip=u;break;case"sfx_pick_up_gift":n.audioSourcePickUpGift.clip=u;break;case"sfx_tap":n.audioSourceTap.clip=u;break;case"sfx_theme":n.audioSourceBGM.clip=u}}n.stopAllSounds()})).catch((function(o){console.error(o)}));case 5:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),t.playDieSound=function(){this.audioSourceDie.play()},t.playLevelUpSound=function(){this.audioSourceLevelUp.play()},t.playPickUpCoinSound=function(){this.audioSourcePickUpCoin.play()},t.playPickUpGiftSound=function(){this.audioSourcePickUpGift.play()},t.playTapSound=function(){this.audioSourceTap.play()},t.startBackgroundMusic=function(){var o=this;this.audioSourceBGM&&(this.audioSourceBGM.volume=0,this.audioSourceBGM.loop=!0,this.audioSourceBGM.play(),this.schedule((function(){o.audioSourceBGM.volume>.5&&o.unscheduleAllCallbacks(),o.audioSourceBGM.volume+=.1}),.2,r.REPEAT_FOREVER))},t.stopBackgroundMusic=function(){var o=this;this.audioSourceBGM&&this.schedule((function(){o.audioSourceBGM.volume<=0&&(o.audioSourceBGM.stop(),o.unscheduleAllCallbacks()),o.audioSourceBGM.volume-=.1}),.2,r.REPEAT_FOREVER)},t.stopAllSounds=function(){this.audioSourceBGM.stop(),this.audioSourceDie.stop(),this.audioSourceLevelUp.stop(),this.audioSourcePickUpCoin.stop(),this.audioSourcePickUpGift.stop(),this.audioSourceTap.stop()},i(n,[{key:"audioSourceDie",get:function(){return this._audioSourceDie.instance}},{key:"audioSourceLevelUp",get:function(){return this._audioSourceLevelUp.instance}},{key:"audioSourcePickUpCoin",get:function(){return this._audioSourcePickUpCoin.instance}},{key:"audioSourcePickUpGift",get:function(){return this._audioSourcePickUpGift.instance}},{key:"audioSourceTap",get:function(){return this._audioSourceTap.instance}},{key:"audioSourceBGM",get:function(){return this._audioSourceBGM.instance}}]),n}(s))||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/BabyDoge.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,s,a,c,u,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.UITransform,u=t.tween,l=t.Tween,p=t.Component}],execute:function(){var d,h,f,y,b,g;r._RF.push({},"30ce89PSKJHcr0BDHnGt0Ih","BabyDoge",void 0);var v=s.ccclass,m=s.property;t("BabyDoge",(d=v("BabyDoge"),h=m(a),d(((g=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(n,"boundNode",b,i(n)),n.boundX=0,n}o(n,t);var r=n.prototype;return r.onLoad=function(){n.instance=this},r.start=function(){this.boundX=-this.boundNode.getComponent(c).contentSize.width},r.startflyAnimation=function(){var t=this;this.resetflyAnimation(),u(this.node.position).to(20,{x:this.boundX},{onUpdate:function(n,o){var e=10*Math.sin(o*Math.PI*5);t.node.setPosition(n.x,e)}}).start()},r.resetflyAnimation=function(){l.stopAllByTarget(this.node.position),this.node.setPosition(0,0)},n}(p)).instance=null,b=n((y=g).prototype,"boundNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Bonus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DogController.ts","./LazyInstance.ts"],(function(n){var e,t,o,i,r,s,l,a,c,u,d,h,f,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.createClass},function(n){s=n.cclegacy,l=n._decorator,a=n.Node,c=n.Animation,u=n.Collider2D,d=n.Contact2DType,h=n.Component},function(n){f=n.ContactType},function(n){p=n.LazyInstance}],execute:function(){var C,v,g,m,y;s._RF.push({},"1a0838mImBFyrInqCyKWUJC","Bonus",void 0);var b=l.ccclass,I=l.property,T=function(n){return n[n.Active=0]="Active",n[n.Inactive=1]="Inactive",n}(T||{});n("Bonus",(C=b("Bonus"),v=I(a),C((y=e((m=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=n.call.apply(n,[this].concat(r))||this,o(e,"UINode",y,i(e)),e._animController=new p((function(){return e.UINode.getComponent(c)})),e._collider=new p((function(){return e.node.getComponent(u)})),e.moveTowardsDog=null,e.bonusController=null,e.bonusType=null,e}t(e,n);var s=e.prototype;return s.onLoad=function(){this.collider.on(d.BEGIN_CONTACT,this.onBeginContact,this)},s.onGameOver=function(){this.setState(T.Inactive)},s.reset=function(){this.setState(T.Active)},s.setBonusType=function(n){this.bonusType=n,this.animController.play(n)},s.setBonusController=function(n){this.bonusController=n},s.setUIScaling=function(n){this.UINode.scale=n},s.getUIScaling=function(){return this.UINode.scale},s.setMoveTowardsDog=function(n){this.moveTowardsDog=n},s.onBeginContact=function(n,e){switch(e.node.name){case f.Dog:if(this.bonusController.onBonusCollected(this.bonusType),this.bonusController.removeBonus(this.node),null===this.moveTowardsDog)return;if(!this.moveTowardsDog.isValid)return;this.moveTowardsDog.reset();break;case f.Unspawn:this.bonusController.removeBonus(this.node);break;default:return}},s.setState=function(n){switch(n){case T.Inactive:this.collider.enabled=!1,this.animController.stop();break;case T.Active:this.collider.enabled=!0}},r(e,[{key:"animController",get:function(){return this._animController.instance}},{key:"collider",get:function(){return this._collider.instance}}]),e}(h)).prototype,"UINode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/BonusController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./Utils.ts","./Bonus.ts","./MoveTowardsDog.ts","./Result.ts"],(function(n){var t,o,e,s,i,a,r,u,l,c,h,f,d,g,m,p,v,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,s=n.assertThisInitialized,i=n.createForOfIteratorHelperLoose,a=n.createClass},function(n){r=n.cclegacy,u=n._decorator,l=n.Prefab,c=n.NodePool,h=n.Vec3,f=n.instantiate,d=n.Component},function(n){g=n.Signal},function(n){m=n.Utils},function(n){p=n.Bonus},function(n){v=n.MoveTowardsDog},function(n){b=n.Result}],execute:function(){var C,R,w,B,T;r._RF.push({},"6b9e4lWkspOvqPCfHlIGtUE","BonusController",void 0);var _=u.ccclass,A=u.property,P=n("BonusType",function(n){return n.GiftBox="gift",n.Snack="silver_coin",n}({}));n("BonusController",(C=_("BonusController"),R=A(l),C((T=t((B=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i))||this,e(t,"bonusPrefab",T,s(t)),t._isMagnet=!1,t.isTimeout=!1,t.bonusPool=new c,t.obstaclesPlane=void 0,t._giftRate=void 0,t._bonusSpawnRate=void 0,t.currentBonusAmount=0,t.bonusInstances=[],t.dogNode=null,t.moveTowardDogsInstances=[],t.MAX_BONUS_COUNT=6,t.TRAP_CASES=[function(n,t){return new h(m.randomRangeFloat(t-30,t),m.randomRangeFloat(100,200))},function(n,t){return new h(t-(t-n)/4,200)},function(n,t){return new h(t-(t-n)/3.3,55)},function(n,t){return new h(t-(t-n)/3.8,260)}],t.TRAP_CHANCE=.4,t}o(t,n);var r=t.prototype;return r.inject=function(n,t,o,e){this.obstaclesPlane=n,this.bonusSpawnRate=t,this.giftRate=o,this.dogNode=e},r.onGameLoad=function(){for(var n,t=i(this.bonusInstances);!(n=t()).done;){var o=n.value;this.removeBonus(o)}this.currentBonusAmount=0,this.isTimeout=!1,this.unscheduleAllCallbacks()},r.removeBonus=function(n){var t=n.getComponent(p);t&&t.reset(),this.bonusPool.put(n)},r.onGameOver=function(){for(var n,t=i(this.bonusInstances);!(n=t()).done;){n.value.getComponent(p).onGameOver()}this.unscheduleAllCallbacks()},r.spawnBonus=function(n,t,o){var e=this;if((void 0===o&&(o=!0),!this.isTimeout||!o)&&(!(this.currentBonusAmount>=this.MAX_BONUS_COUNT)&&Math.random()<this.bonusSpawnRate)){var s=this.getBonusInstance(),i=s.getComponent(p),a=P.GiftBox,r=this.randomPosition(n,t);if(this.bonusInstances.push(s),this.obstaclesPlane.addChild(s),s.setPosition(r),i.setBonusType(a),i.setBonusController(this),this.Timeout(),this._isMagnet){var u=this.attachMoveTowardsDogComponent(s);if(u.isErr())return;u.map((function(n){n.inject(e.dogNode),e.moveTowardDogsInstances.push(n),i.setMoveTowardsDog(n)}))}}},r.onBonusCollected=function(n){this.currentBonusAmount++,this.node.emit(g.CollectBonus,n),this._isMagnet&&this.node.emit(g.ItemTriggeredMagnet)},r.setMagnet=function(n){if(!n){for(var t,o=i(this.moveTowardDogsInstances);!(t=o()).done;){t.value.selfDestruct()}this.moveTowardDogsInstances.length=0}this._isMagnet=n},r.randomPosition=function(n,t){if(Math.random()<this.TRAP_CHANCE){var o=Math.floor(Math.random()*this.TRAP_CASES.length);return this.TRAP_CASES[o](n,t)}var e=m.randomRangeFloat(n+100,t-100),s=e-n+Math.abs(e-t)<=50?m.randomRangeFloat(200,230):m.randomRangeFloat(0,260);return new h(e,s)},r.Timeout=function(){var n=this,t=m.randomRangeFloat(this.minDelay,this.maxDelay);this.isTimeout=!0,this.scheduleOnce((function(){n.isTimeout=!1}),t)},r.getBonusInstance=function(){return this.bonusPool.size()>0?this.bonusPool.get():f(this.bonusPrefab)},r.attachMoveTowardsDogComponent=function(n){return n.getComponent(v)?b.err("MagnetAlreadyAdded"):b.ok(n.addComponent(v))},a(t,[{key:"giftRate",get:function(){return this._giftRate},set:function(n){n<0||n>1?console.error("giftsRate should be between 0 and 1"):this._giftRate=n}},{key:"bonusSpawnRate",get:function(){return this._bonusSpawnRate},set:function(n){n<0||n>1?console.error("bonusSpawnRate should be between 0 and 1"):this._bonusSpawnRate=n}},{key:"minDelay",get:function(){return this.currentBonusAmount>=4?12:8}},{key:"maxDelay",get:function(){return this.currentBonusAmount>=4?24:20}}]),t}(d)).prototype,"bonusPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/Chucky.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,s,p,a,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,p=e._decorator,a=e.SpriteAtlas,c=e.Sprite,u=e.Component}],execute:function(){var l,h,m,y,C,f,d;s._RF.push({},"1200a/eXkJB55NzdNJvstS3","Chucky",void 0);var b=p.ccclass,g=p.property,F=["chucky_2","chucky_3","chucky_4"];e("Chucky",(l=b("Chucky"),h=g(a),m=g(c),l((f=t((C=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"spriteAtlas",f,n(t)),i(t,"_spriteComponent",d,n(t)),t.currentSpriteFrameIndex=1,t}r(t,e);var s=t.prototype;return s.enable=function(){this.spriteComponent.enabled=!0,this.spriteComponent.spriteFrame=this.spriteAtlas.getSpriteFrame(F[2])},s.setSpriteFrame=function(e){this.currentSpriteFrameIndex="2"===e?0:1,this.spriteComponent.spriteFrame=this.spriteAtlas.getSpriteFrame(F[this.currentSpriteFrameIndex])},s.disable=function(){this.spriteComponent.enabled=!1},s.idle=function(){this.spriteComponent.spriteFrame=this.spriteAtlas.getSpriteFrame(F[2])},o(t,[{key:"spriteComponent",get:function(){return null===this._spriteComponent&&(this._spriteComponent=this.node.getComponent(c)),this._spriteComponent}},{key:"isActive",get:function(){return this.spriteComponent.enabled}}]),t}(u)).prototype,"spriteAtlas",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(C.prototype,"_spriteComponent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/Crucifix.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Item.ts","./Signal.ts"],(function(i){var t,n,o,e,r;return{setters:[function(i){t=i.inheritsLoose},function(i){n=i.cclegacy,o=i._decorator},function(i){e=i.Item},function(i){r=i.Signal}],execute:function(){var c;n._RF.push({},"869c2oyAupFc7xxvN2SQPZd","Crucifix",void 0);var l=o.ccclass,u=o.disallowMultiple;i("Crucifix",l("Crucifix")(c=u(!0)(c=function(i){function n(){for(var t,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(t=i.call.apply(i,[this].concat(o))||this)._dogController=null,t._duration=0,t}t(n,i);var o=n.prototype;return o.Inject=function(i,t,n){this._dogController=i,i.node.on(r.ItemTriggeredOnDogCollide,this.OnDogCollided,this),this._duration=n.expireCondition.value,this.initializeUI(t,n.expireCondition),this.Activate()},o.Activate=function(){this._dogController.setCrucifixActive(!0)},o.Expire=function(){i.prototype.Expire.call(this),this._dogController.setCrucifixActive(!1)},o.OnDogCollided=function(){var i=this;this.uiComponent.setActive(),this.scheduleOnce((function(){i.Expire()}),this._duration)},n}(e))||c)||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/DebugTool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventEmitter.ts","./GameItemConst.ts","./StateManager.ts"],(function(t){var e,i,o,n,r,a,l,u,s,g,c,h,p,b,f,m,d,y,T,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,o=t.inheritsLoose,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,l=t._decorator,u=t.CCInteger,s=t.Node,g=t.Label,c=t.assert,h=t.BoxCollider2D,p=t.Color,b=t.Vec3,f=t.EditBox,m=t.Component},function(t){d=t.default},function(t){y=t.GameItemType},function(t){T=t.MessageActionType,C=t.stateObserver}],execute:function(){var E,v,B,L,D,w,S,x,N,k,z,M,O,I,R,P,G,H,U,q,_,F,A,j,V,X,Z,J,K,Q,W,Y,$,tt,et,it,ot,nt,rt,at,lt,ut,st,gt,ct,ht,pt,bt,ft,mt,dt,yt,Tt,Ct,Et,vt,Bt,Lt,Dt,wt,St,xt;a._RF.push({},"96fbeedLlZAL792SDkxX1X3","DebugTool",void 0);var Nt=l.ccclass,kt=l.property,zt=(E=Nt("FakeMessageData"),v=kt({type:u,tooltip:"Dog type",group:"Load"}),B=kt({type:u,tooltip:"Life points",group:"Load"}),L=kt({group:"Load"}),D=kt({group:"Load"}),E((x=e((S=function(){i(this,"dogType",x,this),i(this,"lifePoints",N,this),i(this,"dogTypeName",k,this),i(this,"maps",z,this)}).prototype,"dogType",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=e(S.prototype,"lifePoints",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=e(S.prototype,"dogTypeName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Common"}}),z=e(S.prototype,"maps",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Urban"}}),w=S))||w),Mt=function(t){return t.On="Debug\n>",t.Off="Debug",t}(Mt||{}),Ot={1:"Common",2:"Uncommon",3:"Rare",4:"Super Rare",5:"Epic",6:"Legendary",7:"Unique",8:"Ultimate",9:"Exalted",10:"Godlike"},It=(M=Nt("EquipmentPassData"),O=kt({type:u,tooltip:"The id of the hat",group:"Load"}),I=kt({type:u,tooltip:"The id of the neck",group:"Load"}),R=kt({type:u,tooltip:"The id of the glasses",group:"Load"}),P=kt({type:u,tooltip:"The id of the shirt",group:"Load"}),G=kt({type:u,tooltip:"The id of the trail",group:"Load"}),H=kt({type:u,tooltip:"The id of the particle",group:"Load"}),M((_=e((q=function(){i(this,"hat",_,this),i(this,"neck",F,this),i(this,"glasses",A,this),i(this,"shirt",j,this),i(this,"trail",V,this),i(this,"particle",X,this)}).prototype,"hat",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),F=e(q.prototype,"neck",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),A=e(q.prototype,"glasses",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),j=e(q.prototype,"shirt",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),V=e(q.prototype,"trail",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),X=e(q.prototype,"particle",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),U=q))||U);t("DebugTool",(Z=Nt("DebugTool"),J=kt({type:s,tooltip:"Type of dog to load.",displayName:"EB Dog Type",group:"Dependencies"}),K=kt({type:zt,visible:!0}),Q=kt(s),W=kt(s),Y=kt(s),$=kt(s),tt=kt(s),et=kt(s),it=kt(s),ot=kt(s),nt=kt(s),rt=kt(s),at=kt(g),lt=kt(g),ut=kt(g),st=kt(It),Z(((xt=function(t){function e(){for(var e,o,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return o=t.call.apply(t,[this].concat(a))||this,i(o,"ebDogType",ht,n(o)),i(o,"fakeMessageData",pt,n(o)),i(o,"dogController",bt,n(o)),o.dogBoxCollider=null,i(o,"debugButtonToggle",ft,n(o)),i(o,"loadButton",mt,n(o)),i(o,"startButton",dt,n(o)),i(o,"gameOverButton",yt,n(o)),i(o,"hideButton",Tt,n(o)),i(o,"hitboxToggle",Ct,n(o)),o.hitboxLabel=null,i(o,"itemStarNode",Et,n(o)),i(o,"itemMagnetNode",vt,n(o)),i(o,"itemCrucifixNode",Bt,n(o)),i(o,"itemStarLabel",Lt,n(o)),i(o,"itemMagnetLabel",Dt,n(o)),i(o,"itemCrucifixLabel",wt,n(o)),o.gameItemStates=((e={})[y.LuckyStar]=!1,e[y.Magnet]=!1,e[y.Crucifix]=!1,e),i(o,"equipmentPassData",St,n(o)),o.debugStatus=Mt.Off,o.touchStartTime=0,o}o(e,t);var a=e.prototype;return a.onLoad=function(){var t=this;if(c(null!=this.debugButtonToggle,"DebugButtonToggle is null"),c(null!=this.loadButton,"LoadButton is null"),c(null!=this.startButton,"StartButton is null"),c(null!=this.gameOverButton,"GameOverButton is null"),c(null!=this.hideButton,"HideButton is null"),null===this.hitboxToggle)throw new Error("HitboxToggle is null");if(null===this.dogController)throw new Error("DogController is null");if(null===this.itemStarLabel)throw new Error("ItemStarLabel is null");if(null===this.itemMagnetLabel)throw new Error("ItemMagnetLabel is null");if(null===this.itemCrucifixLabel)throw new Error("ItemCrucifixLabel is null");if(null===this.itemStarNode)throw new Error("ItemStarNode is null");if(null===this.itemMagnetNode)throw new Error("ItemMagnetNode is null");if(null===this.itemCrucifixNode)throw new Error("ItemCrucifixNode is null");this.dogBoxCollider=this.dogController.getComponent(h),this.hitboxLabel=this.hitboxToggle.getComponentInChildren(g),this.hitboxLabel.color=p.GREEN,this.itemStarLabel.color=this.gameItemStates[y.LuckyStar]?p.GREEN:p.RED,this.itemMagnetLabel.color=this.gameItemStates[y.Magnet]?p.GREEN:p.RED,this.itemCrucifixLabel.color=this.gameItemStates[y.Crucifix]?p.GREEN:p.RED,this.ebDogType.active=!1,this.loadButton.active=!1,this.startButton.active=!1,this.gameOverButton.active=!1,this.hideButton.active=!1,this.hitboxToggle.active=!1,this.itemStarNode.active=!1,this.itemMagnetNode.active=!1,this.itemCrucifixNode.active=!1,this.debugButtonToggle.on(s.EventType.TOUCH_END,this.onTouchStart,this),this.debugButtonToggle.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.debugButtonToggle.on(s.EventType.TOUCH_MOVE,(function(e){t.touchStartTime=performance.now();var i=new b(e.getLocation().x-e.getPreviousLocation().x,e.getLocation().y-e.getPreviousLocation().y);t.node.translate(i)})),this.loadButton.on(s.EventType.TOUCH_END,this.onLoadBtnTap,this),this.startButton.on(s.EventType.TOUCH_END,this.onStartBtnTap,this),this.gameOverButton.on(s.EventType.TOUCH_END,this.onGameOverBtnTap,this),this.hideButton.on(s.EventType.TOUCH_END,this.onHideBtnTap,this)},a.onLoadBtnTap=function(){var t,e,i,o=this,n=null==(t=this.ebDogType)?void 0:t.getComponent(f),r=n&&""!==n.string?parseInt(n.string):this.fakeMessageData.dogType,a=Ot[r],l=Object.keys(this.gameItemStates).filter((function(t){return o.gameItemStates[t]})).map((function(t){return t})),u={dogType:r,lifePoints:null==(e=this.fakeMessageData)?void 0:e.lifePoints,action:T.LoadRun,rarity:10,dogTypeName:a,maps:null==(i=this.fakeMessageData)?void 0:i.maps,activeGameItems:l,equipments:{trail:this.equipmentPassData.trail,neck:this.equipmentPassData.neck,eye:this.equipmentPassData.glasses,head:this.equipmentPassData.hat,body:this.equipmentPassData.shirt,particle:this.equipmentPassData.particle}};d.sendFakeMessage(u)},a.onStartBtnTap=function(){var t={action:T.StartRun};d.sendFakeMessage(t)},a.onGameOverBtnTap=function(){C.gameOver()},a.onHideBtnTap=function(){C.hideGame()},a.onLevelUpBtnTap=function(){C.levelUp()},a.onToggleCollision=function(t){this.dogBoxCollider&&(this.dogBoxCollider.enabled=t.isChecked,this.hitboxLabel.color=t.isChecked?p.GREEN:p.RED)},a.onToggleStar=function(t){this.gameItemStates[y.LuckyStar]=t.isChecked,this.itemStarLabel.color=t.isChecked?p.GREEN:p.RED},a.onToggleMagnet=function(t){this.gameItemStates[y.Magnet]=t.isChecked,this.itemMagnetLabel.color=t.isChecked?p.GREEN:p.RED},a.onToggleCrucifix=function(t){this.gameItemStates[y.Crucifix]=t.isChecked,this.itemCrucifixLabel.color=t.isChecked?p.GREEN:p.RED},a.onDebugButtonTap=function(){},a.toggleDebugButton=function(){this.debugStatus=this.debugStatus===Mt.On?Mt.Off:Mt.On,this.debugButtonToggle.getComponentInChildren(g).string=this.debugStatus;for(var t,e=r(this.node.children);!(t=e()).done;){var i=t.value;i!==this.debugButtonToggle&&(this.debugStatus!==Mt.On?i.active=!1:i.active=!0)}},a.onTouchStart=function(){this.touchStartTime=performance.now()},a.onTouchEnd=function(){performance.now()-this.touchStartTime>700||this.toggleDebugButton()},e}(m)).level=1,ht=e((ct=xt).prototype,"ebDogType",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(ct.prototype,"fakeMessageData",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(ct.prototype,"dogController",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(ct.prototype,"debugButtonToggle",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(ct.prototype,"loadButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(ct.prototype,"startButton",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(ct.prototype,"gameOverButton",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(ct.prototype,"hideButton",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(ct.prototype,"hitboxToggle",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(ct.prototype,"itemStarNode",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(ct.prototype,"itemMagnetNode",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(ct.prototype,"itemCrucifixNode",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(ct.prototype,"itemStarLabel",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(ct.prototype,"itemMagnetLabel",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(ct.prototype,"itemCrucifixLabel",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(ct.prototype,"equipmentPassData",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new It}}),gt=ct))||gt));a._RF.pop()}}}));

System.register("chunks:///_virtual/DogController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateManager.ts","./AudioController.ts","./Signal.ts","./LazyInstance.ts","./DogUI.ts","./OutfitController.ts","./GameController.ts"],(function(t){var e,i,o,n,s,r,a,u,l,c,h,d,f,p,g,m,y,C,v,b,D,I,P,_,N,k,A,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,l=t._decorator,c=t.Node,h=t.Animation,d=t.Vec3,f=t.Collider2D,p=t.Contact2DType,g=t.assert,m=t.director,y=t.Component,C=t.resources,v=t.SpriteAtlas},function(t){b=t.stateObserver,D=t.GameState},function(t){I=t.AudioController},function(t){P=t.Signal},function(t){_=t.LazyInstance},function(t){N=t.DogUI,k=t.DogUIAnimation},function(t){A=t.OutfitController},function(t){S=t.GameController}],execute:function(){var E,O,U,R,w,T,G,J,V,z,B,L,x,j,F,W;u._RF.push({},"39974uUSshC7pvnwA/iOR41","DogController",void 0);var M=l.ccclass,H=l.property,q=function(t){return t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Jump=2]="Jump",t[t.Die=3]="Die",t}(q||{}),K=t("ContactType",function(t){return t.Dog="DogeController",t.Ground="Ground",t.Obstacle="Obstacle",t.Rocket="Rocket",t.Bonus="Bonus",t.Unspawn="Unspawn",t}({}));t("DogController",(E=M("DogController"),O=H({type:c,tooltip:"The node that play audio in game.",group:"Dependencies"}),U=H({type:c,tooltip:"The node that display dog animation.",group:"Dependencies"}),R=H({type:c,tooltip:"The node that display dog outfits, trail & particle.",group:"Dependencies"}),w=H({serializable:!0}),T=H({type:c,tooltip:"The node that display dog rush effect.",group:"Dependencies"}),G=H(c),J=H(N),E((B=e((z=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"audioControllerNode",B,n(e)),o(e,"DogeUINode",L,n(e)),o(e,"dogOutfitControllerNode",x,n(e)),o(e,"_rushEffectNode",j,n(e)),o(e,"dogStartingPosition",F,n(e)),o(e,"dogUI",W,n(e)),e._dogUIAnimation=new _((function(){return e.DogeUINode.getComponent(h)})),e._animController=new _((function(){return e.node.getComponent(h)})),e._dogOutfitComponent=new _((function(){return e.dogOutfitControllerNode.getComponent(A)})),e._audioComponent=new _((function(){return e.audioControllerNode.getComponent(I)})),e._rushEffectAnimationComponent=new _((function(){if(e.rushEffectNode)return e.rushEffectNode.getComponent(h);console.error("RushEffectNode is null")})),e.state=q.Idle,e.dogType=0,e.initialVelocity=void 0,e.gravity=void 0,e.tempVelocity=0,e.velocity=0,e.onGround=!0,e._startingPosition=new d,e._nodePositon=new d,e.playerJustTap=!1,e.activeRushEffect=!1,e.dogSpriteAtlas=null,e.blinkInterval=.05,e.isBlinking=!1,e.isCrucifixActive=!1,e}i(e,t);var u=e.prototype;return u.inject=function(t,e){this.initialVelocity=t,this.gravity=e},u.onLoad=function(){this.node.getComponent(f).on(p.BEGIN_CONTACT,this.onBeginContact,this),b.subscribe({id:"DogController",callback:this.onGameStateChange.bind(this),priority:2}),this.rushEffectNode.active=!1,g(null!=this.dogOutfitControllerNode,"Dog Outfit Controller Node is null")},u.update=function(t){switch(this.state){case q.Idle:case q.Run:break;case q.Jump:this.onJump(t);break;case q.Die:this.onDogJustDie(t,3e3,200)}},u.onGameStateChange=function(t){switch(t){case D.StartRun:if(!S.Loaded)return;this.setState(q.Run),this.dogUIAnimation.play("dog_"+this.dogType+"_run"),this.dogOutfitComponent.runParticle();break;case D.GameOver:this.onGround=!1,this.tempVelocity=800,this.setState(q.Die),this.dogUIAnimation.play("dog_"+this.dogType+"_die"),this.animController.play("dog_controller_dog_die"),this.dogOutfitComponent.stopParticle(),this.unschedule(this.setDogWithinScreen);break;case D.LevelUp:if(b.level%2!=0)return;this.dogUI.increaseAnimationSpeed()}},u.loadDogAnimations=function(){var t=r(a().mark((function t(e){var i,o,n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="Animations/dog_"+e+"/dog_"+e,o=new Promise((function(t,e){C.load(i,v,(function(i,o){i?e(i):t(o)}))})),t.next=4,Promise.resolve(o).then((function(t){n.dogType=e,n.dogSpriteAtlas=t,n.onGameFinishLoading()})).catch((function(t){console.error(t)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u.onGameFinishLoading=function(){switch(this.reset(),this.setState(q.Idle),this.schedule(this.setDogWithinScreen,.4),this.rushEffectNode.active=!1,this.dogUI.spriteAtlas=this.dogSpriteAtlas,this.dogUI.dogType=this.dogType,this.dogUI.playAnimation(k.idle),this.dogType){case 10:this.dogOutfitControllerNode.setPosition(4,0);break;case 5:this.dogOutfitControllerNode.setPosition(2,0);break;case 8:this.dogOutfitControllerNode.setPosition(5,0);break;default:this.dogOutfitControllerNode.setPosition(0,0)}},u.onBeginContact=function(t,e){switch(e.node.name){case K.Rocket:case K.Obstacle:if(this.isCrucifixActive)return void(this.isBlinking||(this.onGrantInvincibility(),this.node.emit(P.ItemTriggeredOnDogCollide)));if(this.state===q.Die)return;this.node.emit(P.DogCollidedWithObstacle);break;case K.Ground:this.onGround=!0;break;case K.Bonus:}},u.jump=function(){var t=this;this.state===q.Jump&&(this.playerJustTap=!0,this.scheduleOnce((function(){t.playerJustTap=!1}),.13)),this.state===q.Run&&(this.animController.play("dog_controller_dog_jump"),this.dogUI.playAnimation(k.idle))},u.onPlayerJustTap=function(){this.setState(q.Jump)},u.onDogJustDie=function(t,e,i){this.tempVelocity-=e*t,this.velocity=this.tempVelocity*t,this.node.setPosition(this.nodePosition.x-i*t,this.nodePosition.y+this.velocity),this.isOnGround()&&this.tempVelocity<0&&(this.setState(q.Idle),this.node.setPosition(this.node.position.x,this.startingPosition.y))},u.onJump=function(t){this.tempVelocity-=this.gravity*t*m.getScheduler().getTimeScale(),this.velocity=this.tempVelocity*t*m.getScheduler().getTimeScale(),this.node.setPosition(this.nodePosition.x,this.nodePosition.y+this.velocity),this.isOnGround()&&this.tempVelocity<0&&this.onLanded()},u.onLanded=function(){this.resetPosition(),this.setState(q.Run),this.playerJustTap?this.jump():this.animController.play("dog_controller_dog_land")},u.reset=function(){this.animController.play("dog_controller_dog_idle"),this.resetPosition()},u.resetPosition=function(){this.node.setPosition(this.startingPosition)},u.isOnGround=function(){return this.onGround},u.playJumpSound=function(){this.audioComponent.playTapSound()},u.setDogWithinScreen=function(){this.state!==q.Jump?this.nodePosition!==this.startingPosition&&this.resetPosition():this.nodePosition.y<=this.startingPosition.y&&this.resetPosition()},u.setCrucifixActive=function(t){this.isCrucifixActive=t,t||this.onRevokeInvincibility()},u.onGrantInvincibility=function(){this.isBlinking=!0,this.schedule(this.blink,this.blinkInterval)},u.onRevokeInvincibility=function(){this.isBlinking=!1,this.unschedule(this.blink),this.DogeUINode&&(this.DogeUINode.active=!0)},u.blink=function(){this.DogeUINode&&(this.DogeUINode.active=!this.DogeUINode.active)},u.setState=function(t){switch(this.state=t,t){case q.Idle:this.dogUI.playAnimation(k.idle);break;case q.Run:if(this.dogUI.playAnimation(k.run),!this.activeRushEffect)return;this.rushEffectNode.active=!0,this.rushEffectAnimationComponent.play();break;case q.Jump:if(this.onGround=!1,this.tempVelocity=this.initialVelocity,this.dogUI.playAnimation(k.idle),this.node.emit(P.DogJump),!this.activeRushEffect)return;this.rushEffectAnimationComponent.stop(),this.rushEffectNode.active=!1;break;case q.Die:if(this.dogUI.onDogDie(),!this.activeRushEffect)return;this.rushEffectAnimationComponent.stop(),this.rushEffectNode.active=!1,this.activeRushEffect=!1}},u.startRushEffect=function(){this.activeRushEffect=!0},s(e,[{key:"rushEffectNode",get:function(){return null===this._rushEffectNode?(console.error("RushEffectNode is null"),null):this._rushEffectNode},set:function(t){null!==t?this._rushEffectNode=t:console.error("RushEffectNode is null")}},{key:"dogUIAnimation",get:function(){return this._dogUIAnimation.instance}},{key:"animController",get:function(){return this._animController.instance}},{key:"dogOutfitComponent",get:function(){return this._dogOutfitComponent.instance}},{key:"audioComponent",get:function(){return this._audioComponent.instance}},{key:"rushEffectAnimationComponent",get:function(){return this._rushEffectAnimationComponent.instance}},{key:"startingPosition",get:function(){return this.dogStartingPosition.getPosition(this._startingPosition)}},{key:"nodePosition",get:function(){return this.node.getPosition(this._nodePositon)}}]),e}(y)).prototype,"audioControllerNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(z.prototype,"DogeUINode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"dogOutfitControllerNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(z.prototype,"_rushEffectNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(z.prototype,"rushEffectNode",[T],Object.getOwnPropertyDescriptor(z.prototype,"rushEffectNode"),z.prototype),F=e(z.prototype,"dogStartingPosition",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(z.prototype,"dogUI",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=z))||V));u._RF.pop()}}}));

System.register("chunks:///_virtual/DogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Trail.ts","./Chucky.ts"],(function(t){var e,i,n,r,o,s,l,a,u,p,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,l=t._decorator,a=t.Sprite,u=t.Animation,p=t.Component},function(t){c=t.Trail},function(t){h=t.Chucky}],execute:function(){var m,g,d,y,f,_,C,A;s._RF.push({},"90e04WEpLBPT4Ihht7juayW","DogUI",void 0);var D=l.ccclass,S=l.property,T=l.requireComponent,k="Dog Atlas is null",v=t("DogUIAnimation",function(t){return t.idle="dog_idle",t.run="dog_run",t}({})),F={idle:"1",run_0:"2",run_1:"3"};t("DogUI",(m=D("DogUI"),g=T([a,u]),d=S(c),y=S(h),m(f=g((C=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._spriteComponent=null,e._animController=null,n(e,"trail",C,r(e)),e._spriteAtlas=null,e._dogType=0,e.DEFAULT_SPEED=3,n(e,"chucky",A,r(e)),e}i(e,t);var s=e.prototype;return s.onLoad=function(){null===this.trail&&console.error("Trail is null")},s.setSpriteFrame=function(t){var e="dog_"+this.dogType+"_"+F[t];this.spriteComponent.spriteFrame=this.spriteAtlas.getSpriteFrame(e),this.trail.isActive&&("idle"===t?this.trail.hideTrail():this.trail.setSpriteFrame()),this.chucky.isActive&&("idle"===t?this.chucky.idle():this.chucky.setSpriteFrame(F[t]))},s.playAnimation=function(t){this.animController.play(t)},s.increaseAnimationSpeed=function(){var t=this.animController.getState(v.run);t.speed+=.2*t.speed},s.resetAnimationSpeed=function(){this.animController.getState(v.run).speed=this.DEFAULT_SPEED},s.onDogDie=function(){this.animController.getState(v.run).stop(),this.trail.hideTrail()},o(e,[{key:"spriteComponent",get:function(){return null===this._spriteComponent&&(this._spriteComponent=this.node.getComponent(a)),this._spriteComponent}},{key:"animController",get:function(){return this._animController||(this._animController=this.node.getComponent(u)),this._animController}},{key:"spriteAtlas",get:function(){return this._spriteAtlas},set:function(t){if(null===t)throw new Error(k);this._spriteAtlas=t,this.spriteComponent.spriteAtlas=t,this.resetAnimationSpeed()}},{key:"dogType",get:function(){return this._dogType},set:function(t){this._dogType=t}}]),e}(p)).prototype,"trail",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(_.prototype,"chucky",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=_))||f)||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/ErrorHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateManager.ts","./EventEmitter.ts"],(function(r){var t,n,e,o,c,s,u;return{setters:[function(r){t=r.inheritsLoose,n=r.wrapNativeSuper},function(r){e=r.cclegacy,o=r.error,c=r.log},function(r){s=r.MessageActionType},function(r){u=r.default}],execute:function(){e._RF.push({},"f4030RJpBxFCpyUwViH0sbV","ErrorHandler",void 0);var a=function(r){function n(t){var n;return(n=r.call(this,t)||this).name=void 0,n.name=n.constructor.name,n.stack||(n.stack=new Error(t).stack),n}return t(n,r),n}(n(Error)),i=r("NotFoundError",function(r){function n(t){return r.call(this,t||"Object not found")||this}return t(n,r),n}(a)),l=r("IsNullError",function(r){function n(t){return r.call(this,t||"Object is null")||this}return t(n,r),n}(a));r("ErrorHandler",function(){function r(){}return r.handle=function(r){var t={action:s.Error,errorType:r.name,message:r.message,stackTrace:r.stack};o(r),c(t),u.sendMessage(t)},r.getCustomMessage=function(r){switch(r.constructor){case i:return"Object not found";case l:return"Object is null";default:return"Unexpected error"}},r}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EventEmitter.ts",["cc","./StateManager.ts"],(function(e){var a,t,s,n;return{setters:[function(e){a=e.cclegacy,t=e.log},function(e){s=e.stateObserver,n=e.MessageActionType}],execute:function(){a._RF.push({},"54910beaCJBcJ0EwNmDnyZh","EventEmitter",void 0);var o="COCOS",i="REACT",r=e("default",{handleMessage:function(e){if(e.origin===globalThis.location.origin){var a=e.data;if(a.to===o&&a.from===i){t("[COCOS] handleMessage",a.from,a.to,a.data);var r=a.data;switch(s.setGameData(r),r.action){case n.LoadRun:s.gameLoad();break;case n.StartRun:s.gameStartRun()}}}},sendMessage:function(e){var a=globalThis.location.origin;t("[COCOS]",o,i,e),globalThis.parent.postMessage({event:"message",from:o,to:i,data:e},a)},sendFakeMessage:function(e){var a=globalThis.location.origin;t("[COCOS] sendFakeMessage",i,o,e),globalThis.parent.postMessage({event:"message",from:i,to:o,data:e},a)}});self.addEventListener("message",r.handleMessage),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioController.ts","./BonusController.ts","./DogController.ts","./GameSetting.ts","./GameUI.ts","./ObstaclesController.ts","./RocketController.ts","./LazyInstance.ts","./Signal.ts","./StateManager.ts","./ItemController.ts","./WeatherEffect.ts","./ResourceInterface.ts","./EventEmitter.ts","./GameLogger.ts","./BabyDoge.ts"],(function(e){var t,o,n,i,r,a,l,s,u,c,p,g,d,h,m,f,S,b,C,y,v,k,w,_,N,I,U,L,G,z,A,P,R,D,F,B,T,W,E,O,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Sprite,p=e.UITransform,g=e.Node,d=e.Widget,h=e.BlockInputEvents,m=e.Vec3,f=e.log,S=e.director,b=e.Component,C=e.resources,y=e.JsonAsset,v=e.SpriteAtlas},function(e){k=e.AudioController},function(e){w=e.BonusType},function(e){_=e.DogController},function(e){N=e.GameSetting},function(e){I=e.GameUI},function(e){U=e.ObstaclesController,L=e.ObstaclesControllerState},function(e){G=e.RocketController,z=e.RocketLevel},function(e){A=e.LazyInstance},function(e){P=e.Signal},function(e){R=e.stateObserver,D=e.GameState,F=e.MessageActionType},function(e){B=e.ItemController},function(e){T=e.WeatherEffect},function(e){W=e.MapResourceNames},function(e){E=e.default},function(e){O=e.gameLogger},function(e){M=e.BabyDoge}],execute:function(){var j,x,H,J,V,K,X,q,Q,Y,Z,$,ee,te,oe,ne,ie,re,ae,le,se,ue,ce,pe,ge,de,he,me,fe,Se,be,Ce,ye,ve,ke,we,_e,Ne,Ie,Ue,Le,Ge,ze,Ae,Pe,Re,De,Fe,Be,Te,We,Ee,Oe,Me,je;s._RF.push({},"986109LXg5IzJ3NEyBKCBN8","GameController",void 0);var xe=u.ccclass,He=u.property,Je=function(e){function t(t,o){var n;(n=e.call(this)||this)._task=void 0,n._interval=void 0,n._isPaused=!1;return n._task=function(e){return function(e,t,o){t||e(o)}(t,n._isPaused,e)},n._interval=o,n}o(t,e);var n=t.prototype;return n.start=function(){this._isPaused=!1,this.schedule(this._task,this._interval)},n.stop=function(){this.unschedule(this._task)},n.pause=function(){this._isPaused=!0},n.resume=function(){this._isPaused=!1},t}(b),Ve=(j=xe("ResourceSetter"),x=He({type:c,group:"Background"}),H=He({type:c,group:"Background"}),J=He({type:p,group:"Background"}),V=He({type:g,group:"Background"}),K=He({type:d,group:"Background"}),X=He({type:c,group:"Ground"}),q=He({type:c,group:"Ground"}),Q=He({type:c,group:"Cloud"}),Y=He({type:c,group:"Cloud"}),Z=He({type:c,group:"Cloud"}),$=He({type:c,group:"Cloud"}),j((oe=t((te=function(){function e(){n(this,"backgroundSprite",oe,this),n(this,"foregroundSprite",ne,this),n(this,"foregroundUITransform",ie,this),n(this,"foregroundNode",re,this),n(this,"foregroundWidget",ae,this),n(this,"ground1Sprite",le,this),n(this,"ground2Sprite",se,this),n(this,"cloud1Sprite",ue,this),n(this,"cloud2Sprite",ce,this),n(this,"cloud3Sprite",pe,this),n(this,"cloud4Sprite",ge,this)}var t=e.prototype;return t._setBackground=function(e,t){this.backgroundSprite.spriteAtlas=e,this.backgroundSprite.changeSpriteFrameFromAtlas(t)},t._setForeground=function(e,t){this.foregroundSprite.spriteAtlas=e,this.foregroundSprite.changeSpriteFrameFromAtlas(t)},t._setForegroundUITransform=function(e,t){this.foregroundUITransform.setContentSize(e,t)},t._setForegroundScale=function(e,t){this.foregroundNode.setScale(e,t)},t._setForegroundWidget=function(e){this.foregroundWidget.bottom=e},t._setGround=function(e,t){this.ground1Sprite.spriteAtlas=e,this.ground1Sprite.changeSpriteFrameFromAtlas(t),this.ground2Sprite.spriteAtlas=e,this.ground2Sprite.changeSpriteFrameFromAtlas(t)},t._setCloud=function(e,t){this.cloud1Sprite.spriteAtlas=e,this.cloud1Sprite.changeSpriteFrameFromAtlas(t[0]),this.cloud2Sprite.spriteAtlas=e,this.cloud2Sprite.changeSpriteFrameFromAtlas(t[1]),this.cloud3Sprite.spriteAtlas=e,this.cloud3Sprite.changeSpriteFrameFromAtlas(t[0]),this.cloud4Sprite.spriteAtlas=e,this.cloud4Sprite.changeSpriteFrameFromAtlas(t[1])},t.setResource=function(e,t){var o=[W.cloud+(e.cloud?"_0":""),W.cloud+(e.cloud?"_1":"")];this._setBackground(t,W.bg),this._setForeground(t,W.fg),this._setForegroundUITransform(e.fg.tranSize[0],e.fg.tranSize[1]),this._setForegroundScale(e.fg.scale[0],e.fg.scale[1]),this._setForegroundWidget(e.fg.wBot),this._setGround(t,W.ground),this._setCloud(t,o)},e}()).prototype,"backgroundSprite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(te.prototype,"foregroundSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(te.prototype,"foregroundUITransform",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(te.prototype,"foregroundNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(te.prototype,"foregroundWidget",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=t(te.prototype,"ground1Sprite",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(te.prototype,"ground2Sprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(te.prototype,"cloud1Sprite",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(te.prototype,"cloud2Sprite",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(te.prototype,"cloud3Sprite",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(te.prototype,"cloud4Sprite",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=te))||ee);e("GameController",(de=xe("GameController"),he=He({type:g,group:"Dependencies"}),me=He({type:g,group:"Dependencies"}),fe=He({type:g,group:"Dependencies"}),Se=He({type:g,group:"Dependencies"}),be=He({type:g,group:"Dependencies"}),Ce=He({type:g,group:"Dependencies"}),ye=He({type:g,group:"Dependencies"}),ve=He({type:g,group:"Dependencies"}),ke=He({type:g,group:"Dependencies"}),we=He({type:g,group:"Dependencies"}),_e=He({type:Ve,serializable:!0}),Ne=He(T),Ie=He(g),de(((je=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"groundNode",Ge,i(t)),n(t,"obstaclesControllerNode",ze,i(t)),n(t,"dogControllerNode",Ae,i(t)),n(t,"gameUINode",Pe,i(t)),n(t,"tapRegionNode",Re,i(t)),n(t,"audioControllerNode",De,i(t)),n(t,"rocketControllerNode",Fe,i(t)),n(t,"bonusControllerNode",Be,i(t)),n(t,"gameSettingNode",Te,i(t)),n(t,"itemControllerNode",We,i(t)),n(t,"resourceSetter",Ee,i(t)),n(t,"weatherEffectController",Oe,i(t)),n(t,"pleaseWaitUI",Me,i(t)),t._gameUI=new A((function(){return t.gameUINode.getComponent(I)})),t._rocketController=new A((function(){return t.rocketControllerNode.getComponent(G)})),t._audioController=new A((function(){return t.audioControllerNode.getComponent(k)})),t._gameSetting=new A((function(){return t.gameSettingNode.getComponent(N)})),t._dogControllerComponent=new A((function(){return t.dogControllerNode.getComponent(_)})),t._obstaclesController=new A((function(){return t.obstaclesControllerNode.getComponent(U)})),t._itemController=new A((function(){return t.itemControllerNode.getComponent(B)})),t._pleaseWaitBlockInput=new A((function(){return t.pleaseWaitUI.getComponent(h)})),t.scoreUpdateTask=void 0,t.levelStartRocket=0,t.levelStartApocalypse=0,t.pointPerLevel=0,t.score=0,t.tap=0,t.gifts=0,t.snacks=0,t._groundPosition=new m,t._mapData=new Map,t.tapPointMultiply=1,t}o(t,e);var s=t.prototype;return s.onLoad=function(){R.subscribe({id:"GameController",callback:this.onGameStateChange.bind(this),priority:0})},s.start=function(){this.initialize(),this.gameSetting.release(),this.gameSettingNode=null,this.gameSetting=null,this.setNodeActiveState(!1)},s.initialize=function(){var e=this;this.obstaclesController.inject(this.gameSetting.gameplay.speedBasedOnLevel,this.gameSetting.gameplay.distancePerLevel,this.gameSetting.gameplay.obstacleSpawnMin,this.gameSetting.gameplay.obstacleSpawnMax,this.gameSetting.gameplay.bonusSpawnRate,this.gameSetting.gameplay.giftsRate,this.dogControllerNode),this.dogControllerComponent.inject(this.gameSetting.gameplay.initialVelocity,this.gameSetting.gameplay.gravity),this.dogControllerNode.on(P.DogJump,this.onPlayerTap,this),this.bonusControllerNode.on(P.CollectBonus,this.onCollectBonus,this),this.rocketController.setUI(this.gameSetting.gameplay.jumpHeight*this.dogControllerNode.getScale().x,this.groundPosition),this.levelStartRocket=this.gameSetting.gameplay.LevelToStartRockets,this.levelStartApocalypse=this.gameSetting.gameplay.LevelToStartApocalypse,this.pointPerLevel=this.gameSetting.gameplay.pointPerLevel,this.dogControllerNode.on(P.DogCollidedWithObstacle,this.onDogCollidedWithObstacle,this),this.tapRegionNode.on(P.PlayerTap,(function(){e.dogControllerComponent.jump()})),this.obstaclesControllerNode.on(P.ObstaclesControllerFinishedLevel,(function(){e.scoreUpdateTask.resume()})),this.scoreUpdateTask=new Je(this.updateScore.bind(this),this.gameSetting.gameplay.pointInterval)},s.onGameStateChange=function(e){switch(e){case D.StartRun:this.onGameStart();break;case D.GameOver:this.onGameOver();break;case D.Hide:this.onGameHide();break;case D.LevelUp:this.onLevelUp()}},s.onGameHide=function(){this.setNodeActiveState(!1)},s.onGameFinishLoading=function(e){var t=R.getGameData();f("[Cocos] Game Loaded with: ",t),this.setNodeActiveState(!0),this.score=0,this.tap=0,this.gifts=0,this.snacks=0,this.gameUI.updateScore(this.score),this.gameUI.updateLevel(R.level+1),this.gameUI.updateTap(this.tap),this.gameUI.updateGifts(this.gifts),this.gameUI.updateLifePoint(t.lifePoints,t.rarity),this.gameUI.updateRarity(t.dogTypeName),this.rocketController.setRocketLevel(z.None),e.toLowerCase().includes("arctic")?this.weatherEffectController.startEmitting():this.weatherEffectController.stopEmitting(),M.instance.resetflyAnimation()},s.loadEnvironment=function(){var e=a(l().mark((function e(t){var o,n,i,r,a=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null,this._mapData.has(t)?o=new Promise((function(e){e(a._mapData.get(t))})):(n="Environment/"+t+"/data/"+t,o=new Promise((function(e,t){C.load(n,y,(function(o,n){o?t(o):e(n)}))}))),i="Environment/"+t+"/environment_"+t.toLowerCase(),r=new Promise((function(e,t){C.load(i,v,(function(o,n){o?t(o):e(n)}))})),e.next=6,Promise.all([o,r]).then((function(e){var o=e[0],n=e[1],i=o instanceof y?o.json:o;a.resourceSetter.setResource(i,n),a.onGameFinishLoading(t),o instanceof y&&(a._mapData.set(t,i),o.destroy()),a.obstaclesController.loadObstacles(n)})).catch((function(e){f(e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onGameStart=function(){f("[Cocos] Game Started with: ",R.getGameData()),t.Loaded&&(O.reset(),this.audioController.startBackgroundMusic(),this.scoreUpdateTask.start(),this.injectRocketLevel(R.level),this.obstaclesController.setState(L.Play),M.instance.startflyAnimation())},s.onGameOver=function(){this.rocketController.setRocketLevel(z.Freeze),this.audioController.playDieSound(),this.audioController.stopBackgroundMusic();var e={action:F.GameOver,scores:this.score,tap:this.tap,gameDuration:O.getGameDuration()};E.sendMessage(e),this.scoreUpdateTask.stop(),this.obstaclesController.setState(L.Stop),this.itemController.RemoveAllItems(),t.Loaded=!1,this.pleaseWaitUI.active=!0,this.pleaseWaitBlockInput.enabled=!0},s.onPlayerTap=function(){this.tap+=1*this.tapPointMultiply,this.gameUI.updateTap(this.tap)},s.onLevelUp=function(){this.audioController.playLevelUpSound(),this.gameUI.updateLevel(R.level+1),this.injectRocketLevel(R.level),this.scoreUpdateTask.pause(),4===R.level&&this.dogControllerComponent.startRushEffect()},s.onCollectBonus=function(e){switch(e){case w.GiftBox:this.gifts+=1,this.gameUI.updateGifts(this.gifts),this.audioController.playPickUpCoinSound();break;case w.Snack:this.snacks+=1,this.audioController.playPickUpGiftSound()}},s.injectRocketLevel=function(e){e+1===this.levelStartRocket&&this.rocketController.setRocketLevel(z.Normal),e+1===this.levelStartApocalypse&&this.rocketController.setRocketLevel(z.Apocalypse)},s.updateScore=function(){this.score+=1,O.logDuration(.12),this.gameUI.updateScore(this.score),this.score%this.pointPerLevel==0&&R.levelUp()},s.setNodeActiveState=function(e){this.groundNode.active=e,this.dogControllerNode.active=e,this.obstaclesControllerNode.active=e,this.gameUINode.active=e,this.tapRegionNode.active=e},s.onDogCollidedWithObstacle=function(){R.gameOver()},s.setTapPointMultiply=function(e){this.tapPointMultiply=e},s.reduceGameSpeed=function(e){S.getScheduler().setTimeScale(e)},s.resetGameSpeed=function(){S.getScheduler().setTimeScale(1)},s.hideWaitUI=function(){this.pleaseWaitUI.active=!1,this.pleaseWaitBlockInput.enabled=!1},r(t,[{key:"gameUI",get:function(){return this._gameUI.instance}},{key:"rocketController",get:function(){return this._rocketController.instance}},{key:"audioController",get:function(){return this._audioController.instance}},{key:"gameSetting",get:function(){return this._gameSetting.instance},set:function(e){e||this._gameSetting.release()}},{key:"dogControllerComponent",get:function(){return this._dogControllerComponent.instance}},{key:"obstaclesController",get:function(){return this._obstaclesController.instance}},{key:"itemController",get:function(){return this._itemController.instance}},{key:"pleaseWaitBlockInput",get:function(){return this._pleaseWaitBlockInput.instance}},{key:"groundPosition",get:function(){return this.groundNode.getPosition(this._groundPosition).y}}]),t}(b)).Loaded=!1,Ge=t((Le=je).prototype,"groundNode",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(Le.prototype,"obstaclesControllerNode",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(Le.prototype,"dogControllerNode",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(Le.prototype,"gameUINode",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(Le.prototype,"tapRegionNode",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(Le.prototype,"audioControllerNode",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(Le.prototype,"rocketControllerNode",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(Le.prototype,"bonusControllerNode",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=t(Le.prototype,"gameSettingNode",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=t(Le.prototype,"itemControllerNode",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(Le.prototype,"resourceSetter",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Ve}}),Oe=t(Le.prototype,"weatherEffectController",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(Le.prototype,"pleaseWaitUI",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=Le))||Ue));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameItemConst.ts",["cc","./Crucifix.ts","./LuckyStar.ts","./Magnet.ts"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Crucifix},function(t){i=t.LuckyStar},function(t){r=t.Magnet}],execute:function(){var o;e._RF.push({},"2489en2TXBP6p9ntS2NEgDT","GameItemConst",void 0);var a=t("GameItemType",function(t){return t.LuckyStar="item-star",t.Magnet="item-magnet",t.Crucifix="item-crucifix",t}({})),u=t("TriggerCondition",function(t){return t.OnStartGame="OnStartGame",t.OnInit="OnInit",t.OnCollide="OnCollide",t.OnEndGame="OnEndGame",t}({}));t("GameItemConst",((o={})[a.LuckyStar]={itemType:a.LuckyStar,itemComponentType:i,triggerCondition:u.OnStartGame,expireCondition:{type:"none",value:0},multiplier:2},o[a.Magnet]={itemType:a.Magnet,itemComponentType:r,triggerCondition:u.OnInit,expireCondition:{type:"usage",value:5}},o[a.Crucifix]={itemType:a.Crucifix,itemComponentType:n,triggerCondition:u.OnCollide,expireCondition:{type:"time",value:5}},o));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogger.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"57bbcD/XBFMtKslh79wABmU","GameLogger",void 0);var e=t("GameLogger",function(){function t(){this._gameDuration=0}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.logDuration=function(t){this._gameDuration+=t},n.getGameDuration=function(){return this._gameDuration},n.reset=function(){this._gameDuration=0},t}());e.instance=void 0;t("gameLogger",e.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameSetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./GameSettingData.ts"],(function(e){var a,t,i,l,n,s,p,o,r,c;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,p=e._decorator,o=e.Component},function(e){r=e.Utils},function(e){c=e.GameplaySetting}],execute:function(){var g,m,y,u,h,d,S;s._RF.push({},"82920L3gm9DEayjS+PAIAxo","GameSetting",void 0);var v=p.ccclass,f=p.property,L=p.executeInEditMode;e("GameSetting",(g=v("GameSetting"),m=L(!0),y=f({serializable:!0}),u=f({type:c,tooltip:"Game setting data",group:"Gameplay Setting"}),g(h=m((S=a((d=function(e){function a(){for(var a,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return a=e.call.apply(e,[this].concat(n))||this,i(a,"_gameplay",S,l(a)),a}t(a,e);var s=a.prototype;return s.release=function(){this._gameplay=null,this.destroy(),this.node.destroy()},s.onGameplaySettingChanged=function(){this.gameplay.initialVelocity=this.getInitialVelocity(),this.gameplay.speedBasedOnLevel=this.getLevelData(),this.gameplay.obstacleSpawnMin=this.getObstacleMinimumSpawnDistanceAllowedBasedOnLevel(),this.gameplay.obstacleSpawnMax=this.getObstacleMaximumSpawnDistanceAllowedBasedOnLevel(),this.gameplay.distancePerLevel=this.getDistancePerLevel()},s.getInitialVelocity=function(){return r.CalculateInitialVelocity(this.gameplay.gravity,this.gameplay.jumpHeight)},s.getLevelData=function(){return r.CalculateLevelData(this.gameplay.GameSpeedInitial,this.gameplay.GameSpeedStep,this.gameplay.gameSpeedStepScaling,this.gameplay.gameSpeedScaleStartThreshold)},s.getObstacleMinimumSpawnDistanceAllowedBasedOnLevel=function(){return r.CalculateObstacleMinimumSpawnDistanceAllowedBasedOnLevel(this.gameplay.initialVelocity,this.gameplay.gravity,this.gameplay.dogWidth,this.gameplay.maxObstacleWidth,this.gameplay.speedBasedOnLevel,this.gameplay.minimumDistanceEaseForObstacle,this.gameplay.minDistanceEaseFallOffLevel)},s.getObstacleMaximumSpawnDistanceAllowedBasedOnLevel=function(){return r.CalculateObstacleMaxSpawnDistance(this.gameplay.obstacleSpawnMin,this.gameplay.SpawnRangeFromMinimum,this.gameplay.spawnRangeFallOffLevel)},s.getDistancePerLevel=function(){return r.CalculateDistancePerLevel(this.gameplay.speedBasedOnLevel,this.gameplay.pointInterval,this.gameplay.pointPerLevel)},n(a,[{key:"gameplay",get:function(){return this._gameplay},set:function(e){this._gameplay=e,this._gameplay&&this.onGameplaySettingChanged()}}]),a}(o)).prototype,"_gameplay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(d.prototype,"gameplay",[u],Object.getOwnPropertyDescriptor(d.prototype,"gameplay"),d.prototype),h=d))||h)||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameSettingData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,a,n,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e._decorator,n=e.CCFloat,l=e.CCInteger}],execute:function(){var o,p,u,s,c,f,g,b,h,y,m,d,w,v,S,D,z,L,R,T,G,F,O,x,M,j,P,C,I,k,A,B,E,W,_,H,J,U,V,N,q,K,Q,X,Y,Z,$,ee,te,ie,re;r._RF.push({},"b256et70yJC5J0RiUgmO0GU","GameSettingData",void 0);var ae=a.ccclass,ne=a.property;e("GameplaySetting",(o=ae("GameplaySetting"),p=ne({type:n,group:"General"}),u=ne({type:l,group:"General"}),s=ne({type:n,group:"General"}),c=ne({type:n,group:"General"}),f=ne({type:n,tooltip:"The max height of jump",group:"Dog"}),g=ne({type:n,tooltip:"The gravity of the jump",group:"Dog"}),b=ne({type:n,readonly:!0,tooltip:"The calculated initial velocity of the jump",group:"Dog"}),h=ne({type:n,group:"Difficulty"}),y=ne({type:n,group:"Difficulty"}),m=ne({type:n,group:"Difficulty"}),d=ne({type:n,group:"Difficulty",range:[1,1/0]}),w=ne({type:n,tooltip:"The scaling factor of the game speed step per level",group:"Difficulty",slide:!0,range:[.1,1],step:.01}),v=ne({type:n,group:"Difficulty",tooltip:"The easing of minimum distance between obstacles"}),S=ne({type:l,range:[1,20],step:1,slide:!0,group:"Difficulty",tooltip:"The level of which the ease = 0"}),D=ne({type:n,group:"Difficulty",tooltip:"The maximum range of the spawn distance of the obstacles (Max Distance = Min Distance + Max Range)"}),z=ne({type:l,range:[1,20],step:1,slide:!0,group:"Difficulty",tooltip:"The level of which the max spawn Range = 0"}),L=ne({type:n,range:[1,20],step:1,slide:!0,group:"Difficulty",tooltip:"The level that starts spawning rockets"}),R=ne({type:n,range:[1,20],step:1,slide:!0,group:"Difficulty",tooltip:"The level that starts Apocalypse"}),T=ne({type:n,group:"Level Data",readonly:!0,displayName:"Speed Base on Level"}),G=ne({type:n,group:"Level Data",readonly:!0}),F=ne({type:n,group:"Level Data",readonly:!0}),O=ne({type:n,group:"Level Data",readonly:!0}),x=ne({type:n,group:"Level Data",readonly:!0}),M=ne({type:l,group:"Difficulty"}),o((C=t((P=function(){i(this,"pointInterval",C,this),i(this,"pointPerLevel",I,this),i(this,"bonusSpawnRate",k,this),i(this,"giftsRate",A,this),i(this,"jumpHeight",B,this),i(this,"gravity",E,this),i(this,"initialVelocity",W,this),i(this,"dogWidth",_,this),i(this,"maxObstacleWidth",H,this),i(this,"GameSpeedInitial",J,this),i(this,"GameSpeedStep",U,this),i(this,"gameSpeedStepScaling",V,this),i(this,"minimumDistanceEaseForObstacle",N,this),i(this,"minDistanceEaseFallOffLevel",q,this),i(this,"SpawnRangeFromMinimum",K,this),i(this,"spawnRangeFallOffLevel",Q,this),i(this,"LevelToStartRockets",X,this),i(this,"LevelToStartApocalypse",Y,this),i(this,"speedBasedOnLevel",Z,this),i(this,"obstacleSpawnMin",$,this),i(this,"obstacleSpawnMax",ee,this),i(this,"spawnRate",te,this),i(this,"distancePerLevel",ie,this),i(this,"gameSpeedScaleStartThreshold",re,this)}).prototype,"pointInterval",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),I=t(P.prototype,"pointPerLevel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),k=t(P.prototype,"bonusSpawnRate",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=t(P.prototype,"giftsRate",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=t(P.prototype,"jumpHeight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=t(P.prototype,"gravity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=t(P.prototype,"initialVelocity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=t(P.prototype,"dogWidth",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=t(P.prototype,"maxObstacleWidth",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=t(P.prototype,"GameSpeedInitial",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(P.prototype,"GameSpeedStep",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=t(P.prototype,"gameSpeedStepScaling",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=t(P.prototype,"minimumDistanceEaseForObstacle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=t(P.prototype,"minDistanceEaseFallOffLevel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),K=t(P.prototype,"SpawnRangeFromMinimum",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=t(P.prototype,"spawnRangeFallOffLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),X=t(P.prototype,"LevelToStartRockets",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=t(P.prototype,"LevelToStartApocalypse",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=t(P.prototype,"speedBasedOnLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array(20)}}),$=t(P.prototype,"obstacleSpawnMin",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(P.prototype,"obstacleSpawnMax",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(P.prototype,"spawnRate",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(P.prototype,"distancePerLevel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(P.prototype,"gameSpeedScaleStartThreshold",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=P))||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LazyInstance.ts"],(function(e){var t,n,o,r,i,a,l,p,u,c,s,b,m,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,l=e._decorator,p=e.Color,u=e.Node,c=e.Label,s=e.RichText,b=e.Sprite,m=e.Component},function(e){f=e.LazyInstance}],execute:function(){var y,L,g,C,h,d,F,w,I,U,v,_,z,P,S;a._RF.push({},"90075R3OXpEQolcN+O2KX7M","GameUI",void 0);var k=l.ccclass,T=l.property,D={common:new p("FFAA5C"),uncommon:new p("FFDCA7"),rare:new p("9DF7FF"),"super rare":new p("BAFFAD"),epic:new p("C7B4FF"),legendary:new p("FFB0F2"),unique:new p("5EFFFF"),ultimate:new p("93BCFF"),exalted:new p("C6C6C6"),godlike:new p("FFD465")};e("GameUI",(y=k("GameUI"),L=T({type:u,tooltip:"The level label node in the game.",displayName:"Level Label"}),g=T({type:u,tooltip:"The score label node in the game.",displayName:"Score Label"}),C=T({type:u,tooltip:"The tap label node in the game.",displayName:"Tap Label"}),h=T({type:u,tooltip:"The heart UI node in the game.",displayName:"Heart UI"}),d=T(u),F=T(u),y((U=t((I=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"levelLabel",U,r(t)),o(t,"scoreLabel",v,r(t)),o(t,"tapLabel",_,r(t)),o(t,"lifePointUI",z,r(t)),o(t,"rarityUI",P,r(t)),o(t,"rarityLabel",S,r(t)),t._scoreLabelComponent=new f((function(){return t.scoreLabel.getComponent(c)})),t._levelLabelComponent=new f((function(){return t.levelLabel.getComponent(c)})),t._tapLabelComponent=new f((function(){return t.tapLabel.getComponent(c)})),t._lifePointUIComponent=new f((function(){return t.lifePointUI.getComponent(s)})),t._rarityUISprite=new f((function(){return t.rarityUI.getComponent(b)})),t._rarityLabelComponent=new f((function(){return t.rarityLabel.getComponent(c)})),t}n(t,e);var a=t.prototype;return a.updateLevel=function(e){this.levelLabelComponent.string="LV: "+this.paddingZero(e,2)},a.updateScore=function(e){this.scoreLabelComponent.string=""+e},a.updateTap=function(e){this.tapLabelComponent.string=""+e},a.updateGifts=function(e){},a.paddingZero=function(e,t){var n=e.toString();return n.length>=t?n:"0".repeat(t-n.length)+n},a.updateLifePoint=function(e,t){this.lifePointUIComponent.string="<color=#FE9B3F>"+e+"</color><color=#000000>/"+t+"</color>"},a.updateRarity=function(e){var t=D.common,n=D[e.toLowerCase()]||t;this.rarityLabelComponent.color=n,this.rarityLabelComponent.string=e,this.rarityUISprite.color=n},i(t,[{key:"scoreLabelComponent",get:function(){return this._scoreLabelComponent.instance}},{key:"levelLabelComponent",get:function(){return this._levelLabelComponent.instance}},{key:"tapLabelComponent",get:function(){return this._tapLabelComponent.instance}},{key:"lifePointUIComponent",get:function(){return this._lifePointUIComponent.instance}},{key:"rarityUISprite",get:function(){return this._rarityUISprite.instance}},{key:"rarityLabelComponent",get:function(){return this._rarityLabelComponent.instance}}]),t}(m)).prototype,"levelLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(I.prototype,"scoreLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(I.prototype,"tapLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"lifePointUI",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"rarityUI",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(I.prototype,"rarityLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=I))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemUI.ts"],(function(t){var e,i,n,o,u,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.instantiate,u=t.Component},function(t){r=t.ItemUI}],execute:function(){var s,l;i._RF.push({},"94a4aBR4hhKvLnaJoJK6cwd","Item",void 0);var c=n.ccclass,a=n.disallowMultiple;t("Item",c("Item")(s=a(!0)(((l=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).uiNode=null,e.uiComponent=null,e}e(i,t);var n=i.prototype;return n.Activate=function(){},n.Expire=function(){this.destroy(),i.itemController.RemoveItem(this.constructor),this.uiNode.destroy(),this.uiComponent.selfDestruct()},n.initializeUI=function(t,e){this.uiNode=o(i.uiPrefab),this.uiComponent=this.uiNode.addComponent(r),this.node.addChild(this.uiNode),this.uiComponent.initialize(t,e)},i}(u)).uiPrefab=null,l.itemController=null,s=l))||s)||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ItemController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BonusController.ts","./Crucifix.ts","./GameItemConst.ts","./Item.ts","./LuckyStar.ts","./Magnet.ts","./GameController.ts","./LazyInstance.ts","./DogController.ts","./ErrorHandler.ts"],(function(e){var t,n,o,r,l,a,i,s,u,c,d,m,f,p,C,h,g,b,I,y,v,w,P,N,L,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createForOfIteratorHelperLoose,a=e.createClass,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,d=e.Node,m=e.Prefab,f=e.Component,p=e.resources,C=e.SpriteAtlas},function(e){h=e.BonusController},function(e){g=e.Crucifix},function(e){b=e.GameItemConst},function(e){I=e.Item},function(e){y=e.LuckyStar},function(e){v=e.Magnet},function(e){w=e.GameController},function(e){P=e.LazyInstance},function(e){N=e.DogController},function(e){L=e.ErrorHandler,_=e.IsNullError}],execute:function(){var z,k,S,x,D,E,G,F,R,j,A,B,H;u._RF.push({},"7a87eloPYREhqMPlV+nDPFC","ItemController",void 0);var M=c.ccclass,T=c.property,q="Item Prefab is null",O="Label Prefab is null",V="Bonus Controller is null",Y="Dog Controller Node is null",J="Game Controller Node is null",K="Item Sprite Atlas Load Failed";e("ItemController",(z=M("ItemController"),k=T(h),S=T(d),x=T(d),D=T(m),E=T(m),z((R=t((F=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,o(t,"bonusController",R,r(t)),o(t,"dogControllerNode",j,r(t)),t._dogController=new P((function(){return t.dogControllerNode.getComponent(N)})),o(t,"gameControllerNode",A,r(t)),t._gameController=new P((function(){return t.gameControllerNode.getComponent(w)})),o(t,"itemPrefab",B,r(t)),o(t,"labelPrefab",H,r(t)),t.loadedItems=new Set,t}n(t,e);var u=t.prototype;return u.onLoad=function(){this.bonusController||L.handle(new _(V)),this.dogControllerNode||L.handle(new _(Y)),null==this.itemPrefab&&L.handle(new _(q)),null==this.labelPrefab&&L.handle(new _(O)),null==this.gameControllerNode&&L.handle(new _(J)),I.uiPrefab=this.itemPrefab,I.itemController=this},u.loadGameItems=function(){var e=i(s().mark((function e(t){var n,o=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Items/support_items",n=new Promise((function(e,t){p.load("Items/support_items",C,(function(n,o){n?t(n):e(o)}))})),e.next=4,Promise.resolve(n).then((function(e){for(var n,r=new Set,a=l(t);!(n=a()).done;){var i=n.value,s=b[i].itemComponentType;r.add(s),o.loadedItems.has(s)||o.addItemComponent(b[i].itemComponentType,b[i],e.getSpriteFrame(i))}for(var u,c=l(o.loadedItems);!(u=c()).done;){var d=u.value;r.has(d)||o.node.getComponent(d).Expire()}})).catch((function(){throw new Error(K)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u.RemoveAllItems=function(){var e=this.node.getComponents(I);if(0!==e.length){for(var t,n=l(e);!(t=n()).done;){t.value.Expire()}e.length=0}},u.RemoveItem=function(e){this.loadedItems.delete(e)},u.addItemComponent=function(e,t,n){switch(e){case v:this.node.addComponent(v).Inject(this.bonusController,t,n),this.loadedItems.add(v);break;case g:this.node.addComponent(g).Inject(this.dogController,n,t),this.loadedItems.add(g);break;case y:this.node.addComponent(y).Inject(this.gameController,n,t),this.loadedItems.add(y)}},a(t,[{key:"dogController",get:function(){return this._dogController.instance}},{key:"gameController",get:function(){return this._gameController.instance}}]),t}(f)).prototype,"bonusController",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(F.prototype,"dogControllerNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(F.prototype,"gameControllerNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(F.prototype,"itemPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"labelPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=F))||G));u._RF.pop()}}}));

System.register("chunks:///_virtual/ItemUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LazyInstance.ts"],(function(t){var n,e,r,o,i,a,s,u,l,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){r=t.cclegacy,o=t._decorator,i=t.UIOpacity,a=t.Sprite,s=t.Color,u=t.ProgressBar,l=t.Component},function(t){c=t.LazyInstance}],execute:function(){var p;r._RF.push({},"8b4709Om6FONrr0h0g4wRfK","ItemUI",void 0);var d=o.ccclass,h=o.requireComponent;t("ItemUI",d("ItemUI")(p=h([i,a])(p=function(t){function r(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this)._radialProgress=null,n._spriteComponent=new c((function(){return n.node.getComponent(a)})),n._duration=0,n._maxDuration=0,n._countdownInterval=null,n}n(r,t);var o=r.prototype;return o.initialize=function(t,n){if(this.spriteComponent.spriteFrame=t,this.spriteComponent.color="time"===n.type?s.GRAY:s.WHITE,"none"!==n.type)return"time"===n.type?(this._maxDuration=n.value,void(this._duration=n.value)):void("usage"===n.type&&(this._maxDuration=n.value))},o.setDurationAmount=function(t){this.radialProgress.progress=t/this._maxDuration},o.setActive=function(){this.spriteComponent.color=s.WHITE,this._duration>0&&this.startCountdown()},o.startCountdown=function(){var t=this;this._countdownInterval&&clearInterval(this._countdownInterval),this._countdownInterval=setInterval((function(){t._duration=Math.max(0,t._duration-.1),t.radialProgress.progress=t._duration/t._maxDuration,0===t._duration&&(clearInterval(t._countdownInterval),t._countdownInterval=null)}),100)},o.selfDestruct=function(){this._spriteComponent.release(),clearInterval(this._countdownInterval)},e(r,[{key:"radialProgress",get:function(){return null===this._radialProgress&&(this._radialProgress=this.node.getComponentInChildren(u)),this._radialProgress}},{key:"spriteComponent",get:function(){return this._spriteComponent.instance}}]),r}(l))||p)||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/LazyInstance.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"f2c928sOCtA6YBrejV/TFHz","LazyInstance",void 0);n("LazyInstance",function(){function n(n){this._instance=null,this._createInstance=void 0,this._createInstance=null!=n?n:function(){throw new Error("No instance creator provided")}}return n.prototype.release=function(){this._instance=null},t(n,[{key:"createInstance",set:function(n){this._createInstance=n}},{key:"instance",get:function(){return null===this._instance&&(this._instance=this._createInstance()),this._instance}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"fd8ceqKOU5NVrKVupKHJsjG","LevelData",void 0);t("LevelData",function(){function t(){this.level=void 0,this.speedData=void 0,this.distanceData=void 0,this.minRangeData=void 0,this.maxRangeData=void 0,this.obstaclesRandRangeData=void 0,this.levelDistanceData=void 0,this.level=0,this.speedData=[],this.distanceData=[],this.minRangeData=[],this.maxRangeData=[],this.obstaclesRandRangeData=[],this.levelDistanceData=[]}var e=t.prototype;return e.getSpeed=function(t){return void 0===t&&(t=this.level),this.speedData[t]},e.getDistance=function(t){return void 0===t&&(t=this.level),this.distanceData[t]},e.getMinRange=function(t){return void 0===t&&(t=this.level),this.minRangeData[t]},e.getMaxRange=function(t){return void 0===t&&(t=this.level),this.maxRangeData[t]},e.getObstaclesRandRange=function(t){return void 0===t&&(t=this.level),this.obstaclesRandRangeData[t]},e.getLevelDistance=function(t){return void 0===t&&(t=this.level),this.levelDistanceData[t]},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,a,o,s,p,l,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,p=t.SpriteFrame,l=t.CCFloat,c=t.Sprite,u=t.Component}],execute:function(){var m,h,f,d,y,g,_,A;o._RF.push({},"977ddAoYrJOG4aRSmY1Ln6A","LoadingAnimation",void 0);var v=s.ccclass,b=s.property;t("LoadingAnimation",(m=v("LoadingAnimation"),h=b({type:[p],serializable:!0}),f=b({type:[p]}),d=b(l),m((_=e((g=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"_frames",_,n(e)),e._index=0,e._sprite=null,r(e,"animationInterval",A,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.startAnimation()},o.toNextFrame=function(){this._index=(this._index+1)%this.frames.length,this.sprite.spriteFrame=this.frames[this._index]},o.stopAnimation=function(){this.unschedule(this.toNextFrame)},o.startAnimation=function(){this.schedule(this.toNextFrame,this.animationInterval)},a(e,[{key:"frames",get:function(){return 0===this._frames.length&&(this._frames=this.sprite.spriteAtlas.getSpriteFrames()),this._frames}},{key:"sprite",get:function(){return null===this._sprite&&(this._sprite=this.node.getComponent(c)),this._sprite}}]),e}(u)).prototype,"_frames",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(g.prototype,"frames",[f],Object.getOwnPropertyDescriptor(g.prototype,"frames"),g.prototype),A=e(g.prototype,"animationInterval",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LuckyStar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Item.ts"],(function(t){var i,e,r,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator},function(t){l=t.Item}],execute:function(){var n;e._RF.push({},"0ace0tVJKFAyLbBUo1eMrrg","LuckyStar",void 0);var o=r.ccclass,c=r.disallowMultiple;t("LuckyStar",o("LuckyStar")(n=c(!0)(n=function(t){function e(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return(i=t.call.apply(t,[this].concat(r))||this)._gameController=null,i._multiplier=0,i.DEFAULT_MULTIPLIER=1,i}i(e,t);var r=e.prototype;return r.Inject=function(t,i,e){this._gameController=t,this._multiplier=e.multiplier,this.initializeUI(i,e.expireCondition),this.Activate()},r.Activate=function(){this._gameController.setTapPointMultiply(this._multiplier)},r.Expire=function(){t.prototype.Expire.call(this),this._gameController.setTapPointMultiply(this.DEFAULT_MULTIPLIER)},e}(l))||n)||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Magnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Item.ts","./Signal.ts"],(function(t){var n,e,o,i,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.Item},function(t){s=t.Signal}],execute:function(){var u;e._RF.push({},"c5fefkYXjJOl61TAQVQs4bw","Magnet",void 0);var r=o.ccclass,a=o.disallowMultiple;t("Magnet",r("Magnet")(u=a(!0)(u=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this)._bonusController=null,n._usageCount=0,n}n(e,t);var o=e.prototype;return o.onLoad=function(){},o.Inject=function(t,n,e){this._bonusController=t,this._usageCount=n.expireCondition.value,t.node.on(s.ItemTriggeredMagnet,this.DecreaseUsageCount,this),this.initializeUI(e,n.expireCondition),this.Activate()},o.Activate=function(){this._bonusController.setMagnet(!0)},o.Expire=function(){t.prototype.Expire.call(this),this._bonusController.setMagnet(!1)},o.DecreaseUsageCount=function(){this._usageCount--,this._usageCount<=0&&this.Expire(),this.uiComponent.setDurationAmount(this._usageCount)},e}(i))||u)||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AssetsLoader.ts","./AudioController.ts","./BabyDoge.ts","./Bonus.ts","./BonusController.ts","./DogController.ts","./DogUI.ts","./ErrorHandler.ts","./GameController.ts","./Crucifix.ts","./GameItemConst.ts","./Item.ts","./ItemController.ts","./ItemUI.ts","./LuckyStar.ts","./Magnet.ts","./GameSetting.ts","./GameSettingData.ts","./GameUI.ts","./Chucky.ts","./LoadingAnimation.ts","./MoveTowardsDog.ts","./LevelData.ts","./Obstacle.ts","./ObstaclesController.ts","./OutfitController.ts","./RocketController.ts","./DebugTool.ts","./LazyInstance.ts","./ResourceInterface.ts","./ScrollingTexture.ts","./Signal.ts","./Utils.ts","./TapRegion.ts","./Trail.ts","./Turbo.ts","./Result.ts","./WeatherEffect.ts","./RootDirector.ts","./EventEmitter.ts","./GameLogger.ts","./StateManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MoveTowardsDog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LazyInstance.ts","./Bonus.ts"],(function(o){var t,n,e,i,s,r,l,u;return{setters:[function(o){t=o.inheritsLoose,n=o.createClass},function(o){e=o.cclegacy,i=o._decorator,s=o.Vec3,r=o.Component},function(o){l=o.LazyInstance},function(o){u=o.Bonus}],execute:function(){var d;e._RF.push({},"df09b1cY0dH+L+JKUaDFkOQ","MoveTowardsDog",void 0);var c=i.ccclass,h=i.disallowMultiple;o("MoveTowardsDog",c("MoveTowardsDog")(d=h(!0)(d=function(o){function e(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this)._dogNode=null,t._dogPosition=new s,t._nodePosition=new s,t._bonus=new l((function(){return t.node.getComponent(u)})),t.speedMultiplier=5,t.DEFAULT_SCALE=new s(.8,.8),t.SHRINK_SCALE=new s(.3,.3),t.MAGNET_DISTANCE=300,t}t(e,o);var i=e.prototype;return i.inject=function(o){if(null==o)throw new Error("DogNodeIsNull");this.speedMultiplier=5,this._dogNode=o},i.update=function(o){this.shouldMoveTowardDog()&&(this.node.worldPosition=s.lerp(this.node.worldPosition,this.node.worldPosition,this.dogPosition,o*this.speedMultiplier),this.bonus.setUIScaling(s.lerp(this.bonus.getUIScaling(),this.bonus.getUIScaling(),this.SHRINK_SCALE,o*this.speedMultiplier)))},i.shouldMoveTowardDog=function(){var o=this,t=s.distance(this.dogPosition,this.nodePosition)<this.MAGNET_DISTANCE;return t&&this.scheduleOnce((function(){o.speedMultiplier=100}),1),t},i.reset=function(){this.bonus.setUIScaling(this.DEFAULT_SCALE),this.unscheduleAllCallbacks(),this.speedMultiplier=5},i.selfDestruct=function(){this.unscheduleAllCallbacks(),this.destroy()},n(e,[{key:"dogPosition",get:function(){return this._dogNode.getWorldPosition(this._dogPosition)}},{key:"nodePosition",get:function(){return this.node.getWorldPosition(this._nodePosition)}},{key:"bonus",get:function(){if(null==this._bonus.instance)throw new Error("BonusNodeIsNull");return this._bonus.instance}}]),e}(r))||d)||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/Obstacle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LazyInstance.ts"],(function(e){var t,n,i,r,o,a,s,l,p,m,c,u,d,h,y,f,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){s=e.cclegacy,l=e._decorator,p=e.Node,m=e.CCString,c=e.Sprite,u=e.Animation,d=e.Collider2D,h=e.Tween,y=e.tween,f=e.Component},function(e){_=e.LazyInstance}],execute:function(){var g,S,C,F,v,w,A,b,T;s._RF.push({},"5c6aedYr+RJiJ23Y+Khzgul","Obstacle",void 0);var I=l.ccclass,O=l.property,N=e("ObstacleState",function(e){return e[e.Active=0]="Active",e[e.Inactive=1]="Inactive",e}({})),P=e("ObstacleType",function(e){return e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e[e.fly=3]="fly",e}({}));e("Obstacle",(g=I("Obstacle"),S=O(p),C=O([m]),F=O([m]),v=O([m]),g(((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"SpriteNode",b,r(t)),t._spriteNodeSpriteComponent=new _((function(){return t.SpriteNode.getComponent(c)})),t._animController=new _((function(){return t.node.getComponent(u)})),t._colliders=new _((function(){return t.node.getComponents(d)})),t.activeCollider=0,t._animationInterval=.4,t._animationIndex=0,t._option=0,t._type=P.small,t.animate=function(){var e=t.getFrameType(t._type),n=e.length,i=e[t._animationIndex];void 0===i&&(i=e[0]),t.spriteNodeSpriteComponent.changeSpriteFrameFromAtlas(i),t._animationIndex=(t._animationIndex+1)%(n/2)+(0===t._option&&n>2?2:0)},t._flyTween=null,t}n(t,e);var s=t.prototype;return s.setState=function(e){var t=this;switch(e){case N.Inactive:this.colliders.find((function(e){return e.tag==t.activeCollider})).enabled=!1,this.animController.stop(),this.unschedule(this.animate),h.stopAllByTarget(this.node.position),this._flyTween&&(this._flyTween.stop(),this._flyTween=null);break;case N.Active:}},s.setActiveCollider=function(e){for(var t,n=o(this.colliders);!(t=n()).done;){var i=t.value;i.tag!=e?i.enabled=!1:(this.activeCollider=e,i.enabled=!0)}},s.setObstacleType=function(e){this.spriteNodeSpriteComponent.spriteAtlas!==t._atlas&&(this.spriteNodeSpriteComponent.spriteAtlas=t._atlas),this.setActiveCollider(e),this._option=Math.round(Math.random()),this._type=e,this._animationIndex=0,this.animController.stop(),this.unschedule(this.animate),h.stopAllByTarget(this.node),e!=P.fly?(this.playAnimation(),this.SpriteNode.setPosition(0,0)):(0===this.animController.clips.length&&(this.animController.addClip(t._flyAnimation),this.animController.defaultClip=t._flyAnimation),this.animController.play())},s.playAnimation=function(){this.animate(),this.schedule(this.animate,this._animationInterval)},s.getFrameType=function(e){switch(e){case P.small:return t._smallSpriteFrames;case P.medium:return t._mediumSpriteFrames;case P.large:return t._largeSpriteFrames;default:return[]}},t.setSpriteFrames=function(e,n,i){t._smallSpriteFrames=e,t._mediumSpriteFrames=n,t._largeSpriteFrames=i},t.setAtlas=function(e){t._atlas=e},t.setFlyAnimation=function(e){t._flyAnimation=e},s.setFlyTween=function(e,t){var n=this,i=t>0?1+t:1;this._flyTween=y(this.node.position).to(i,{y:e},{onUpdate:function(e){n.node.setPosition(e)},onComplete:function(){n._flyTween=null}})},s.update=function(){this.node.worldPosition.x>=750||this.node.worldPosition.x<=700||this._flyTween&&(this._flyTween.running||this._flyTween.start())},a(t,[{key:"spriteNodeSpriteComponent",get:function(){return this._spriteNodeSpriteComponent.instance}},{key:"animController",get:function(){return this._animController.instance}},{key:"colliders",get:function(){return this._colliders.instance}},{key:"smallSpriteFrames",get:function(){return t._smallSpriteFrames}},{key:"mediumSpriteFrames",get:function(){return t._mediumSpriteFrames}},{key:"largeSpriteFrames",get:function(){return t._largeSpriteFrames}}]),t}(f))._smallSpriteFrames=[],T._mediumSpriteFrames=[],T._largeSpriteFrames=[],T._flyAnimation=null,T._atlas=null,b=t((A=T).prototype,"SpriteNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(A.prototype,"smallSpriteFrames",[C],Object.getOwnPropertyDescriptor(A.prototype,"smallSpriteFrames"),A.prototype),t(A.prototype,"mediumSpriteFrames",[F],Object.getOwnPropertyDescriptor(A.prototype,"mediumSpriteFrames"),A.prototype),t(A.prototype,"largeSpriteFrames",[v],Object.getOwnPropertyDescriptor(A.prototype,"largeSpriteFrames"),A.prototype),w=A))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/ObstaclesController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateManager.ts","./BabyDoge.ts","./BonusController.ts","./LazyInstance.ts","./ScrollingTexture.ts","./Signal.ts","./Utils.ts","./LevelData.ts","./Obstacle.ts"],(function(t){var e,n,a,o,s,i,l,r,c,u,h,p,_,O,b,L,f,g,d,T,m,v,S,E,P,C,A,N,y,I,R,F,D,w,B,Y,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,i=t.createClass,l=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,h=t.Prefab,p=t.Node,_=t.CCInteger,O=t.UITransform,b=t.Size,L=t.NodePool,f=t.Vec3,g=t.Collider2D,d=t.view,T=t.Contact2DType,m=t.director,v=t.instantiate,S=t.log,E=t.Component,P=t.resources,C=t.AnimationClip},function(t){A=t.stateObserver},function(t){N=t.BabyDoge},function(t){y=t.BonusController},function(t){I=t.LazyInstance},function(t){R=t.ScrollingTexture},function(t){F=t.Signal},function(t){D=t.Utils},function(t){w=t.LevelData},function(t){B=t.ObstacleType,Y=t.Obstacle,U=t.ObstacleState}],execute:function(){var W,z,G,x,M,V,j,k,H,X,Z,q,J,K,Q;c._RF.push({},"b4ebbXyDLNEhrTZsIsO1rzO","ObstaclesController",void 0);var $=u.ccclass,tt=u.property,et=t("ObstaclesControllerState",function(t){return t[t.Play=0]="Play",t[t.Stop=1]="Stop",t}({})),nt=function(t){return t[t.Up=0]="Up",t[t.Neutral=1]="Neutral",t[t.Down=2]="Down",t}(nt||{});t("ObstaclesController",(W=$("ObstaclesController"),z=tt(h),G=tt(p),x=tt(p),M=tt(p),V=tt(p),j=tt(_),W((X=e((H=function(t){function e(){for(var e,n,s,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return s=t.call.apply(t,[this].concat(l))||this,a(s,"obstaclePrefabs",X,o(s)),a(s,"obstaclesPlane",Z,o(s)),a(s,"unspawn",q,o(s)),a(s,"groundNode",J,o(s)),a(s,"bonusControllerNode",K,o(s)),a(s,"precomputedLevelAmount",Q,o(s)),s._obstaclePlaneTransf=new I((function(){return s.obstaclesPlane.getComponent(O)})),s._groundComponent=new I((function(){return s.groundNode.getComponent(R)})),s._bonusController=new I((function(){return s.bonusControllerNode.getComponent(y)})),s.screenSize=new b,s.levelData=new w,s.obstaclePool=new L,s.obstacleInstances=[],s.currentLevel=0,s.cachedVec3=new f,s.updateFunction=function(){},s.spawnRate=((e={})[B.small]=30,e[B.medium]=55,e[B.large]=60,e[B.fly]=0,e),s.flySpawnRate=((n={})[nt.Up]=25,n[nt.Neutral]=75,n[nt.Down]=100,n),s.totalObstacleWeight=0,s.totalFlyPositionWeight=0,s.INITIAL_OBSTACLES_COUNT=3,s.OBSTACLE_FLY_NEUTRAL_POSITION=46,s.OBSTACLE_FLY_Y_UP_RANGE=150,s.OBSTACLE_FLY_Y_DOWN_RANGE=50,s.LEVEL_TO_SET_FLY_SPAWN_RATE=6,s.LEVEL_FLY_TWEEN=10,s.RIGHT_BOUND_POSITION_EASE=100,s}n(e,t);var c=e.prototype;return c.onLoad=function(){var t=this.unspawn.getComponent(g);this.obstaclePlaneTransf.anchorX=0;var e=d.getDesignResolutionSize();this.screenSize=e,t.on(T.BEGIN_CONTACT,this.onBeginContact,this)},c.loadObstacleFlyAnimation=function(){var t=l(r().mark((function t(e){var n,a,o=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="Environment/"+e+"/obstacle_fly",a=new Promise((function(t,e){P.load(n,C,(function(n,a){n?e(n):t(a)}))})),t.next=4,Promise.resolve(a).then((function(t){Y.setFlyAnimation(t),o.onGameFinishLoading()})).catch((function(t){console.error(t)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.onGameFinishLoading=function(){var t=this.levelData,e=this.spawnRate;this.groundComponent.stop(),e[B.fly]=0,this.totalObstacleWeight=D.getTotalWeight(e),this.totalFlyPositionWeight=D.getTotalWeight(this.flySpawnRate),t.obstaclesRandRangeData=this.precomputedLevelData(t.minRangeData,t.maxRangeData,t.distanceData,t.levelDistanceData),t.level=0,this.currentLevel=t.level,this.resetObstaclesPlanePosition(this.obstaclesPlane);for(var n,a=s(this.obstacleInstances);!(n=a()).done;){var o=n.value;o&&this.obstaclePool.put(o)}this.obstacleInstances=[],this.obstaclePool.clear(),this.bonusController.onGameLoad(),this.bonusController.Timeout();for(var i=0;i<this.INITIAL_OBSTACLES_COUNT;i++)this.spawnObstacle()},c.lateUpdate=function(t){this.updateFunction(t)},c.inject=function(t,e,n,a,o,s,i){var l=this.levelData;l.speedData=t,l.distanceData=e,l.minRangeData=n,l.maxRangeData=a,this.bonusController.inject(this.obstaclesPlane,o,s,i)},c.setState=function(t){if(t===et.Play)return this.updateFunction=this.PlayState,void this.groundComponent.inject(this.levelData.getSpeed(this.currentLevel));this.updateFunction=this.StopState,this.groundComponent.stop(),this.bonusController.onGameOver()},c.PlayState=function(t){var e=this.levelData.getSpeed(this.currentLevel),n=this.cachedVec3.set(-1*e*t*m.getScheduler().getTimeScale());if(this.obstaclesPlane.translate(n),this.isOutOfBound(this.obstaclesPlane)){var a=this.levelData;this.resetObstaclesPlanePosition(this.obstaclesPlane),a.level>=this.LEVEL_TO_SET_FLY_SPAWN_RATE&&(this.spawnRate[B.fly]=this.totalObstacleWeight,this.totalObstacleWeight=D.getTotalWeight(this.spawnRate)),this.currentLevel=a.level,this.groundComponent.inject(this.levelData.getSpeed(this.currentLevel)),this.node.emit(F.ObstaclesControllerFinishedLevel)}},c.StopState=function(){},c.onBeginContact=function(t,e){var n=e.node;"Obstacle"===n.name&&(n.getComponent(Y).setState(U.Inactive),this.obstaclePool.put(n),this.spawnObstacle())},c.getObstacleInstance=function(){if(this.obstaclePool.size()>0)return this.obstaclePool.get();var t=v(this.obstaclePrefabs);return this.obstacleInstances.push(t),t},c.spawnObstacle=function(){var t=this.levelData;if(void 0===t.getObstaclesRandRange()[0]){if(t.level++,t.level>=this.precomputedLevelAmount-1)return S("levelData.level",t.level,"precomputedLevelAmount",this.precomputedLevelAmount),void A.gameOver();t.level+1===0&&N.instance.startflyAnimation()}var e=this.getObstacleInstance(),n=e.getComponent(Y),a=this.getRandomObstacleType(),o=new f(t.getObstaclesRandRange().shift(),a==B.fly?this.getRandomFlyObstaclePosition():0);this.obstaclesPlane.addChild(e),e.setPosition(o),n.setState(U.Active),n.setObstacleType(a),a==B.fly&&t.level>=this.LEVEL_FLY_TWEEN&&n.setFlyTween(this.getFlyTweenPosition(o.y),.1*(t.level-this.LEVEL_FLY_TWEEN))},c.isOutOfBound=function(t){var e=-(this.levelData.getLevelDistance(this.currentLevel)+150);return t.position.x<e},c.precomputedLevelData=function(t,e,n,a){for(var o=new Array(this.precomputedLevelAmount),s=0,i=0;i<this.precomputedLevelAmount;){var l=D.randomRangeFloat(t[i],e[i]);s>n[i]?(s=0,i++):(void 0===o[i]&&(o[i]=[]),a[i]=s,o[i].push(s),s+=l)}return o},c.getRandomObstacleType=function(){return D.randomWithWeight(this.spawnRate,this.totalObstacleWeight)},c.getRandomFlyObstaclePosition=function(){var t=D.randomWithWeight(this.flySpawnRate,this.totalFlyPositionWeight);return t==nt.Neutral?this.OBSTACLE_FLY_NEUTRAL_POSITION:t==nt.Down?this.OBSTACLE_FLY_NEUTRAL_POSITION-Math.random()*this.OBSTACLE_FLY_Y_DOWN_RANGE:t==nt.Up?this.OBSTACLE_FLY_NEUTRAL_POSITION+Math.random()*this.OBSTACLE_FLY_Y_UP_RANGE:void 0},c.resetObstaclesPlanePosition=function(t){t.setPosition(this.screenSize.width+this.RIGHT_BOUND_POSITION_EASE,t.position.y)},c.loadObstacles=function(t){var e=[],n=[],a=[];t.getSpriteFrames().forEach((function(t){t.name.includes("small")?e.push(t.name):t.name.includes("medium")?n.push(t.name):t.name.includes("large")&&a.push(t.name)})),Y.setAtlas(t),Y.setSpriteFrames(e,n,a)},c.getFlyTweenPosition=function(t){return t<this.OBSTACLE_FLY_NEUTRAL_POSITION?Math.min(Math.abs(t)+2*this.OBSTACLE_FLY_NEUTRAL_POSITION,this.OBSTACLE_FLY_NEUTRAL_POSITION+this.OBSTACLE_FLY_Y_UP_RANGE):t>this.OBSTACLE_FLY_NEUTRAL_POSITION?Math.max(2*this.OBSTACLE_FLY_NEUTRAL_POSITION-t,this.OBSTACLE_FLY_NEUTRAL_POSITION-this.OBSTACLE_FLY_Y_DOWN_RANGE):Math.random()>.5?this.OBSTACLE_FLY_NEUTRAL_POSITION+this.OBSTACLE_FLY_Y_UP_RANGE:this.OBSTACLE_FLY_NEUTRAL_POSITION-this.OBSTACLE_FLY_Y_DOWN_RANGE},i(e,[{key:"obstaclePlaneTransf",get:function(){return this._obstaclePlaneTransf.instance}},{key:"groundComponent",get:function(){return this._groundComponent.instance}},{key:"bonusController",get:function(){return this._bonusController.instance}}]),e}(E)).prototype,"obstaclePrefabs",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(H.prototype,"obstaclesPlane",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(H.prototype,"unspawn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"groundNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(H.prototype,"bonusControllerNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(H.prototype,"precomputedLevelAmount",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 16}}),k=H))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/OutfitController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LazyInstance.ts","./Trail.ts","./Turbo.ts","./Chucky.ts"],(function(t){var e,i,n,r,o,s,c,u,a,l,h,p,f,d,y,b,k,m,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass,s=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){u=t.cclegacy,a=t._decorator,l=t.Node,h=t.Sprite,p=t.ParticleSystem2D,f=t.Component,d=t.resources,y=t.SpriteFrame,b=t.SpriteAtlas},function(t){k=t.LazyInstance},function(t){m=t.Trail},function(t){g=t.Turbo},function(t){v=t.Chucky}],execute:function(){var _,N,w,C,T,O,P,S,F,z,G,D,H,L,x,A,I,R,j;u._RF.push({},"ea941Z+vQNK05onecGngEiJ","OutfitController",void 0);var B=a.ccclass,E=a.property;t("OutfitController",(_=B("OutfitController"),N=E({type:l}),w=E({type:l}),C=E({type:l}),T=E({type:l}),O=E(l),P=E(l),S=E(l),F=E(l),_((D=e((G=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"HatNode",D,r(e)),n(e,"NeckNode",H,r(e)),n(e,"GlassesNode",L,r(e)),n(e,"ShirtNode",x,r(e)),n(e,"TrailNode",A,r(e)),n(e,"ParticleNode",I,r(e)),n(e,"turboNode",R,r(e)),e._hat=new k((function(){return e.HatNode.getComponent(h)})),e._neck=new k((function(){return e.NeckNode.getComponent(h)})),e._glasses=new k((function(){return e.GlassesNode.getComponent(h)})),e._shirt=new k((function(){return e.ShirtNode.getComponent(h)})),e._trail=new k((function(){return e.TrailNode.getComponent(m)})),e._particle=new k((function(){return e.ParticleNode.getComponent(p)})),e._turbo=new k((function(){return e.turboNode.getComponent(g)})),e._isTurbo=!1,n(e,"chuckyNode",j,r(e)),e._chucky=new k((function(){return e.chuckyNode.getComponent(v)})),e._isChucky=!1,e}i(e,t);var u=e.prototype;return u.loadOutfit=function(){var t=s(c().mark((function t(e){var i,n,r,o,s,u,a,l,h,p,f,k,m,g,v=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[],n=e.head,r=e.eye,o=e.neck,s=e.body,u=e.trail,a=e.particle,-1,99,98,(l=function(t){return-1!==t})(s)?99===s?(this.isTurbo=!0,this.shirt.node.active=!1,this.isChucky=!1):98===s?(this.isChucky=!0,this.isTurbo=!1,this.shirt.node.active=!1):(this.shirt.node.active=!0,this.isTurbo=!1,this.isChucky=!1,h="Outfits/body/body_"+s+"/spriteFrame",i.push(new Promise((function(t,e){d.load(h,y,(function(i,n){i?(v.shirt.node.active=!1,e(i)):(v.shirt.spriteFrame=n,t())}))})))):(this.shirt.node.active=!1,this.isTurbo=!1,this.isChucky=!1),l(n)&&!this.isSpecialOutfit?(this.hat.node.active=!0,p="Outfits/head/head_"+n+"/spriteFrame",i.push(new Promise((function(t,e){d.load(p,y,(function(i,n){i?(v.hat.node.active=!1,e(i)):(v.hat.spriteFrame=n,t())}))})))):this.hat.node.active=!1,l(r)&&!this.isSpecialOutfit?(this.glasses.node.active=!0,f="Outfits/eye/eye_"+r+"/spriteFrame",i.push(new Promise((function(t,e){d.load(f,y,(function(i,n){i?(v.glasses.node.active=!1,e(i)):(v.glasses.spriteFrame=n,t())}))})))):this.glasses.node.active=!1,l(o)&&!this.isSpecialOutfit?(this.neck.node.active=!0,k="Outfits/neck/neck_"+o+"/spriteFrame",i.push(new Promise((function(t,e){d.load(k,y,(function(i,n){i?(v.neck.node.active=!1,e(i)):(v.neck.spriteFrame=n,t())}))})))):this.neck.node.active=!1,l(u)?(this.trail.node.active=!0,m="Outfits/trail/trail_"+u,i.push(new Promise((function(t,e){d.load(m,b,(function(i,n){i?(v.trail.node.active=!1,e(i)):(v.trail.setSpriteAtlas(n),t())}))})))):this.trail.node.active=!1,l(a)?(this.particle.node.active=!0,g="Outfits/particle/particle_"+a+"/spriteFrame",i.push(new Promise((function(t,e){d.load(g,y,(function(i,n){i?(e(i),v._particle.release(),v.particle.node.active=!1):(v.particle.node.active=!0,v.particle.spriteFrame=n,t())}))})))):this.particle.node.active=!1,t.next=19,Promise.all(i).catch((function(t){console.error(t)}));case 19:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.runParticle=function(){this.particle.resetSystem()},u.stopParticle=function(){this.particle.stopSystem()},o(e,[{key:"hat",get:function(){return this._hat.instance}},{key:"neck",get:function(){return this._neck.instance}},{key:"glasses",get:function(){return this._glasses.instance}},{key:"shirt",get:function(){return this._shirt.instance}},{key:"trail",get:function(){return this._trail.instance}},{key:"particle",get:function(){return this._particle.instance}},{key:"turbo",get:function(){return this._turbo.instance}},{key:"isTurbo",get:function(){return this._isTurbo},set:function(t){this._isTurbo=t,this.turboNode.active=t,t?this.turbo.play():this.turbo.stop()}},{key:"chucky",get:function(){return this._chucky.instance}},{key:"isChucky",get:function(){return this._isChucky},set:function(t){this._isChucky=t,this.chuckyNode.active=t,t?this.chucky.enable():this.chucky.disable()}},{key:"isSpecialOutfit",get:function(){return this.isTurbo||this.isChucky}}]),e}(f)).prototype,"HatNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(G.prototype,"NeckNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(G.prototype,"GlassesNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(G.prototype,"ShirtNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(G.prototype,"TrailNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(G.prototype,"ParticleNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(G.prototype,"turboNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"chuckyNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=G))||z));u._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceInterface.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"d585e2sLYBGZ7uLtNrUc1TE","ResourceInterface",void 0);e("MapResourceNames",{bg:"bg_background",fg:"bg_foreground",ground:"ground",cloud:"cloud"});c._RF.pop()}}}));

System.register("chunks:///_virtual/Result.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"c8739mZp4NPMb6b25BZavOR","Result",void 0);r("Result",function(){function r(r,t){this.value=r,this.error=t}r.ok=function(t){return new r(t,null)},r.err=function(t){return new r(null,t)};var t=r.prototype;return t.map=function(t){return null!==this.value?r.ok(t(this.value)):r.err(this.error)},t.flatMap=function(t){return null!==this.value?t(this.value):r.err(this.error)},t.mapError=function(t){return null!==this.error?r.err(t(this.error)):r.ok(this.value)},t.getOrElse=function(r){return null!==this.value?this.value:r},t.getOrThrow=function(){if(null!==this.value)return this.value;throw new Error(String(this.error))},t.isOk=function(){return null!==this.value},t.isErr=function(){return null!==this.error},t.match=function(r,t){return null!==this.value?r(this.value):t(this.error)},t.unwrap=function(){if(void 0!==this.value)return this.value;throw new Error("Trying to unwrap an error result")},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RocketController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){var t,n,o,i,s,r,a,c,l,u,h,p,d,f,k,v,m,R,w,g,y,C,z,b,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.createForOfIteratorHelperLoose,r=e.createClass,a=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,h=e.view,p=e.Prefab,d=e.Vec3,f=e.instantiate,k=e.Animation,v=e.UITransform,m=e.randomRangeInt,R=e.Collider2D,w=e.Contact2DType,g=e.tween,y=e.Tween,C=e.Component,z=e.resources,b=e.AnimationClip},function(e){P=e.Utils}],execute:function(){var A,x,N,T,E,I,L;l._RF.push({},"eb7e7xk10dJhIokPakPLAzk","RocketController",void 0);var _=u.ccclass,F=u.property,S=e("RocketLevel",function(e){return e.None="None",e.Normal="Normal",e.Apocalypse="Apocalypse",e.Freeze="Freeze",e}({})),B=h.getVisibleSizeInPixel().width;e("RocketController",(A=_("RocketController"),x=F(p),N=F(p),A((I=t((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,o(t,"rocketPrefab",I,i(t)),o(t,"explosionPrefab",L,i(t)),t.jumpHeight=void 0,t.activeRockets=[],t.rocketAnimation=null,t.rocketLevel=S.None,t._nodePosition=new d,t.MAX_CONCURRENT_ROCKET=2,t}n(t,e);var l=t.prototype;return l.loadRocketAnimation=function(){var e=a(c().mark((function e(t){var n,o,i=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Environment/"+t+"/rocket",o=new Promise((function(e,t){z.load(n,b,(function(n,o){n?t(n):e(o)}))})),e.next=4,Promise.resolve(o).then((function(e){i.rocketAnimation=e})).catch((function(e){console.error(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.setUI=function(e,t){this.node.setPosition(this.nodePosition.x,t,this.nodePosition.z),this.jumpHeight=e},l.setRocketLevel=function(e){switch(this.rocketLevel=e,e){case S.None:this.clearAllRockets(),this.unschedule(this.spawnRocket.bind(this));break;case S.Freeze:this.stopAllTween(),this.unschedule(this.spawnRocket.bind(this));break;case S.Normal:this.scheduleSpawnRocket(3,4);break;case S.Apocalypse:this.scheduleSpawnRocket(.5,1.5)}},l.scheduleSpawnRocket=function(e,t){this.unschedule(this.spawnRocket.bind(this)),this.schedule(this.spawnRocket.bind(this),P.randomRangeFloat(e,t))},l.spawnRocket=function(){if(this.rocketLevel!==S.None&&this.rocketLevel!==S.Freeze&&!(this.activeRockets.length>=this.MAX_CONCURRENT_ROCKET)){var e=f(this.rocketPrefab);this.node.addChild(e);var t=this.rocketLevel===S.Normal,n={speed:1e3,size:t?.4:.8,orbit:t?"straight":"bezier"};e.getComponent(k).addClip(this.rocketAnimation),this.initializeRocket(e,n),this.activeRockets.push(e)}},l.initializeRocket=function(e,t){e.scale=new d(t.size,t.size,t.size);var n=e.getComponent(k);n.play("rocket");var o=n.getComponent(v).contentSize,i=o.width*t.size*1.5,s=o.height*t.size;e.setPosition(new d(B/2+i,m(s/2,this.jumpHeight),0)),"straight"===t.orbit?this.moveStraight(e,t.speed,i):this.moveBezier(e,t.speed,i,s),e.getComponent(R).on(w.BEGIN_CONTACT,this.onBeginContact.bind(this,e),this)},l.moveStraight=function(e,t,n){var o=this,i=(B+2*n)/t;g(e).to(i,{position:new d(-(B/2+2*n),e.position.y,0)}).call((function(){return o.unspawnRocket(e)})).start()},l.moveBezier=function(e,t,n,o){var i=this,s=3*this.jumpHeight,r=o/2,a=this.jumpHeight,c=function(e){return Math.max(r,Math.min(a,e))},l=new d;(l=e.getPosition(l)).y=c(l.y);var u=new d(B/6,c(l.y+m(-s,s)),0),h=new d(-B/6,c(u.y+m(-s,s)),0),p=new d(-(B/2+n),0,0),f=(d.distance(l,u)+d.distance(u,h)+d.distance(h,p))/t,k=function(e){var t=1-e,n=t*t,o=n*t,i=e*e,s=i*e,r=new d;return r.x=o*l.x+3*n*e*u.x+3*t*i*h.x+s*p.x,r.y=o*l.y+3*n*e*u.y+3*t*i*h.y+s*p.y,r.z=o*l.z+3*n*e*u.z+3*t*i*h.z+s*p.z,r};g(e).to(f,{position:p},{onUpdate:function(t,n){var o,i,s,r,a,c=k(n);e.setPosition(c),o=e,s=k(i=n),r=k(i+.01).subtract(s).normalize(),a=Math.atan2(r.y,r.x)*(180/Math.PI),o.setRotationFromEuler(0,0,a+180)}}).call((function(){return i.unspawnRocket(e)})).start()},l.unspawnRocket=function(e){this.activeRockets=this.activeRockets.filter((function(t){return t!==e})),this.scheduleOnce((function(){e.destroy()}),.1)},l.stopAllTween=function(){for(var e,t=s(this.activeRockets);!(e=t()).done;){var n=e.value;y.stopAllByTarget(n),n.getComponent(k).stop()}},l.clearAllRockets=function(){for(var e,t=s(this.activeRockets);!(e=t()).done;){e.value.destroy()}this.activeRockets=[]},l.onBeginContact=function(e,t,n){"DogeController"===n.node.name&&(this.spawnExplosion(e.position),y.stopAllByTarget(e),e.getComponent(k).stop(),this.unspawnRocket(e))},l.spawnExplosion=function(e){var t=f(this.explosionPrefab);t.setPosition(e),this.node.addChild(t);var n=t.getComponent(k);n.play("explosion"),n.on(k.EventType.FINISHED,(function(){return t.destroy()}))},r(t,[{key:"nodePosition",get:function(){return this.node.getPosition(this._nodePosition)}}]),t}(C)).prototype,"rocketPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(E.prototype,"explosionPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=E))||T));l._RF.pop()}}}));

System.register("chunks:///_virtual/RootDirector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetsLoader.ts","./EventEmitter.ts","./StateManager.ts"],(function(e){var t,o,n,a,r,i,c,s,u,d,f,m,R,l;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,a=e.director,r=e.Director,i=e.game,c=e.error,s=e.log,u=e.Component},function(e){d=e.AssetsLoader},function(e){f=e.default},function(e){m=e.stateObserver,R=e.GameState,l=e.MessageActionType}],execute:function(){var p;o._RF.push({},"a3e51/WSRVLtYUBW5TauZHu","RootDirector",void 0);var L=n.ccclass,g=n.executionOrder;e("RootDirector",L("RootDirector")(p=g(Number.MIN_SAFE_INTEGER)(p=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.onLoad=function(){var e=this;a.addPersistRootNode(this.node),a.once(r.EVENT_AFTER_SCENE_LAUNCH,(function(){i.frameRate=120,e.onGameLaunched(),e.LoadRun()})),m.subscribe({id:"RootDirector",callback:function(e){if(e===R.LoadRun){if("DogeRun"===a.getScene().name)return;a.loadScene("DogeRun",(function(e){e&&c(e);var t=m.getGameData();d.instance.onGameLoad(t)}))}},priority:0})},n.onGameLaunched=function(){var e={action:l.Launch};s("[Cocos] Game Launch with: ",e),f.sendMessage(e)},n.LoadRun=function(){var e={dogType:1,lifePoints:3,rarity:1,action:l.LoadRun,dogTypeName:"Common",maps:"Urban",activeGameItems:[],equipments:{trail:-1,neck:-1,eye:-1,head:-1,body:-1,particle:-1}};f.sendFakeMessage(e)},o}(u))||p)||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollingTexture.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,s,l,u,c,a,p,h,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.createClass},function(t){s=t.cclegacy,l=t._decorator,u=t.Node,c=t.CCInteger,a=t.CCFloat,p=t.Vec3,h=t.director,x=t.Component}],execute:function(){var d,f,g,y,P,b,C,S,_,T,m;s._RF.push({},"97903Lo0IxErb/dT+S/ti0u","ScrollingTexture",void 0);var w=l.ccclass,D=l.property;t("ScrollingTexture",(d=w("ScrollingTexture"),f=D({type:u,tooltip:"The second texture for scrolling.",group:"Dependencies"}),g=D({type:u,tooltip:"The second texture for scrolling.",group:"Dependencies"}),y=D({type:c,min:-1,max:1,step:2,tooltip:"The direction of scrolling."}),P=D({type:a}),d((S=e((C=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"texture1",S,r(e)),o(e,"texture2",_,r(e)),o(e,"scrollDirection",T,r(e)),o(e,"scrollSpeed",m,r(e)),e.loopXCoord={start:0,end:0},e.translate_unit=new p,e._texture1Position=new p,e._texture2Position=new p,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.texture1.setPosition(0,0),this.loopXCoord.start=this.texture2Position.x,this.loopXCoord.end=-this.texture2Position.x},s.update=function(t){this.translate_unit.x=-this.scrollSpeed*t*h.getScheduler().getTimeScale(),this.texture1.translate(this.translate_unit),this.texture2.translate(this.translate_unit),this.isLoop(this.texture1Position.x)&&this.texture1.setPosition(this.loopXCoord.start,this.texture1Position.y),this.isLoop(this.texture2Position.x)&&this.texture2.setPosition(this.loopXCoord.start,this.texture2Position.y)},s.stop=function(){this.scrollSpeed=0},s.inject=function(t){this.scrollSpeed=t},s.isLoop=function(t){return this.scrollDirection<0?t<=this.loopXCoord.end:t>=this.loopXCoord.end},n(e,[{key:"texture1Position",get:function(){return this.texture1.getPosition(this._texture1Position)}},{key:"texture2Position",get:function(){return this.texture2.getPosition(this._texture2Position)}}]),e}(x)).prototype,"texture1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"texture2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(C.prototype,"scrollDirection",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),m=e(C.prototype,"scrollSpeed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),b=C))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/Signal.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"541eeq3A7pNk5d6ceD42prZ","Signal",void 0);e("Signal",function(e){return e.PlayerTap="tap",e.DogCollidedWithObstacle="dog-collide",e.ItemTriggeredOnDogCollide="item-dog-collide",e.DogJump="jump",e.SpawnNextLocationReached="spawn-next",e.UnspawnLocationReached="unspawn",e.CollectBonus="collect-bonus",e.ObstaclesControllerFinishedLevel="finish-level",e.ItemTriggeredOnGameStart="item-start",e.ItemTriggeredMagnet="magnet",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/StateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,a;return{setters:[function(t){e=t.createClass,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"40508TlIGJCd4wyAUG020B5","StateManager",void 0);var o=t("GameState",function(t){return t[t.Idle=0]="Idle",t[t.LoadUpgrade=1]="LoadUpgrade",t[t.PreloadRun=2]="PreloadRun",t[t.LoadRun=3]="LoadRun",t[t.PreloadSaloon=4]="PreloadSaloon",t[t.LoadSaloon=5]="LoadSaloon",t[t.StartRun=6]="StartRun",t[t.LevelUp=7]="LevelUp",t[t.GameOver=8]="GameOver",t[t.Hide=9]="Hide",t}({}));t("MessageActionType",function(t){return t.Launch="LAUNCH_GAME",t.LoadUpgrade="LOAD_GAME_UPGRADE",t.LoadRun="LOAD_GAME_RUN",t.LoadCompleted="LOAD_GAME_COMPLETED",t.StartRun="START_GAME_RUN",t.GameOver="END_GAME",t.Hide="HIDE_GAME",t.Error="ERROR_GAME",t}({})),t("stateObserver",new(function(){function t(){this.observers=[],this.gameData=void 0,this._gameState=null,this.isNotifying=!1,this.pendingNotification=null,this._level=void 0}var a=t.prototype;return a.subscribe=function(t){this.observers.push(t),this.observers.sort((function(t,e){return t.priority-e.priority}))},a.unsubscribe=function(t){this.observers=this.observers.filter((function(e){return e!==t}))},a.gameLoad=function(){this.level=0,this.gameState=o.LoadRun,this.notify(this.gameState)},a.gameStartRun=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.gameState=o.StartRun,this.notify(this.gameState);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.levelUp=function(){this._level++,this.gameState=o.LevelUp,this.notify(o.LevelUp,this._level)},a.gameOver=function(){this.gameState=o.GameOver,this.notify(this.gameState)},a.hideGame=function(){this.gameState=o.Hide,this.notify(this.gameState)},a.setGameData=function(t){this.gameData=t},a.getGameData=function(){return this.gameData},a.notify=function(t,e){var i=this;if(this.isNotifying)this.pendingNotification={state:t,data:e};else{this.isNotifying=!0;var n=[].concat(this.observers),a=t,o=e;requestAnimationFrame((function t(){if(0!==n.length){var e=n.shift();e&&(e.callback(a,o),requestAnimationFrame(t))}else if(i.isNotifying=!1,i.pendingNotification){var r=i.pendingNotification,s=r.state,u=r.data;i.pendingNotification=null,i.notify(s,u)}}))}},e(t,[{key:"gameState",get:function(){return this._gameState},set:function(t){this._gameState=t}},{key:"level",get:function(){return this._level},set:function(t){this._level=t}}]),t}()));a._RF.pop()}}}));

System.register("chunks:///_virtual/TapRegion.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(n){var o,t,e,i,c,r;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.Node,c=n.Component},function(n){r=n.Signal}],execute:function(){var a;t._RF.push({},"6cc69ErnJZKvY1lHtXBgdNi","TapRegion",void 0);var s=e.ccclass;n("TapRegion",s("TapRegion")(a=function(n){function t(){return n.apply(this,arguments)||this}return o(t,n),t.prototype.onLoad=function(){var n=this;this.node.on(i.EventType.TOUCH_START,(function(){n.node.emit(r.PlayerTap)}))},t}(c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/Trail.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,s,o;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){n=e.cclegacy,i=e._decorator,s=e.Sprite,o=e.Component}],execute:function(){var p;n._RF.push({},"e921dgdqOVPIb6fR0Cd32C+","Trail",void 0);var a=i.ccclass,l=i.requireComponent,m="Sprite Atlas is null";e("Trail",a("Trail")(p=l([s])(p=function(e){function n(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).spriteFrames=[],t._spriteComponent=null,t}t(n,e);var i=n.prototype;return i.setSpriteAtlas=function(e){if(null===e)throw new Error(m);this.spriteComponent.spriteAtlas=e,this.spriteFrames=e.getSpriteFrames(),this.spriteComponent.spriteFrame=this.spriteFrames[1]},i.setSpriteFrame=function(e){var t;void 0===e&&(e=null),!1===this.spriteComponent.enabled&&(this.spriteComponent.enabled=!0,this.spriteComponent.spriteFrame=this.spriteFrames[1]);var r=this.spriteComponent.spriteAtlas;this.spriteComponent.spriteFrame=r.getSpriteFrame(null!=(t=e)?t:this.getNextFrame())},i.hideTrail=function(){this.spriteComponent.enabled=!1},i.getNextFrame=function(){var e=this,t=this.spriteFrames.findIndex((function(t){return t.name===e.spriteComponent.spriteFrame.name})),r=t+1<this.spriteFrames.length?t+1:0;return this.spriteFrames[r].name},r(n,[{key:"isActive",get:function(){return this.node.active}},{key:"spriteComponent",get:function(){return null===this._spriteComponent&&(this._spriteComponent=this.node.getComponent(s)),this._spriteComponent}}]),n}(o))||p)||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/Turbo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,o,a,e,r;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass},function(n){o=n.cclegacy,a=n._decorator,e=n.Animation,r=n.Component}],execute:function(){var s;o._RF.push({},"ee6c9rn6ClHaoVMig9Btufn","Turbo",void 0);var u=a.ccclass,c=a.requireComponent;n("Turbo",u("Turbo")(s=c(e)(s=function(n){function o(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))||this)._animation=null,t}t(o,n);var a=o.prototype;return a.stop=function(){this.animation.stop(),this.unscheduleAllCallbacks()},a.play=function(){var n=this;this.animation.play("turbo_blinking"),this.scheduleOnce((function(){n.play()}),3*Math.random())},i(o,[{key:"animation",get:function(){return this._animation||(this._animation=this.node.getComponent(e)),this._animation}}]),o}(r))||s)||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"bb300lqmrlH0446sQhCzko7","Utils",void 0);t("Utils",function(){function t(){}return t.CalculateInitialVelocity=function(t,n){return Math.sqrt(2*t*Math.abs(n))},t.CalculateLevelData=function(t,n,a,r){for(var e=new Array(20),u=t,i=0;i<e.length;i++)i<r||i>8&&i<11||i>12&&i<15?e[i]=u:(e[i]=t+Math.round(n*((Math.pow(1+a,i-r)-1)/a)),u=e[i]);return e},t.CalculateObstacleMinimumSpawnDistanceAllowedBasedOnLevel=function(t,n,a,r,e,u,i){for(var o=new Array(e.length),l=0;l<e.length;l++){var c=u*(1-l/(i-1)),h=e[l]*(2*t/n);o[l]=h-r-a+c}return o},t.CalculateObstacleMaxSpawnDistance=function(t,n,a){for(var r=new Array(t.length),e=0;e<t.length;e++){var u=n*(1-e/(a-1));r[e]=t[e]+u}return r},t.CalculateDistancePerLevel=function(t,n,a){for(var r=n*a,e=new Array(t.length),u=0;u<t.length;u++){var i=t[u]*r;e[u]=i}return e},t.CalculateDirection=function(t,n,a,r){var e=a-t,u=r-n;return(Math.atan2(u,e)*(180/Math.PI)+360)%360},t.DegreesToRadians=function(t){return t*(Math.PI/180)},t.CalculateY=function(t,n){var a=this.DegreesToRadians(n);return t*Math.tan(a)},t.Bezier=function(t,n,a,r,e){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*a+Math.pow(e,3)*r},t.randomRangeFloat=function(t,n){return Math.random()*(n-t)+t},t.randomWithWeight=function(t,n){var a=Math.random()*n;for(var r in t){if(a<t[r])return Number(r);a-=t[r]}},t.getTotalWeight=function(t){var n=0;for(var a in t)n+=t[a];return n},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/WeatherEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LazyInstance.ts"],(function(t){var e,n,r,c,i,s,a;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy,c=t._decorator,i=t.ParticleSystem2D,s=t.Component},function(t){a=t.LazyInstance}],execute:function(){var o;r._RF.push({},"e48d9T4B95GcLcjUKm8BKFQ","WeatherEffect",void 0);var u=c.ccclass,l=c.requireComponent,f="Particle System 2D is not found";t("WeatherEffect",u("WeatherEffect")(o=l(i)(o=function(t){function r(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this)._particleSystem=new a((function(){var t=e.node.getComponent(i);if(null===t)throw new Error(f);return t})),e}e(r,t);var c=r.prototype;return c.start=function(){this.particleSystem.active&&this.stopEmitting()},c.startEmitting=function(){this.particleSystem.active||this.particleSystem.resetSystem()},c.stopEmitting=function(){this.particleSystem.stopSystem()},n(r,[{key:"particleSystem",get:function(){return this._particleSystem.instance}}]),r}(s))||o)||o);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});